{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useCallback}from'react';function ImagePopup(_ref){var card=_ref.card,isOpen=_ref.isOpen,onClose=_ref.onClose;var src=card.src;var nameImg=card.nameImg;var closeByOverlay=useCallback(function(evt){if(evt.target!==evt.currentTarget)return;onClose();},[onClose]);var handleEscClose=useCallback(function(evt){if(evt.key===\"Escape\"){onClose();}},[onClose]);React.useEffect(function(){if(isOpen){var Popup=document.querySelector('.image');Popup.classList.add(\"popup_opened\");document.body.addEventListener(\"keyup\",handleEscClose);Popup.addEventListener(\"click\",closeByOverlay);}return function(){var Popup=document.querySelector('.image');Popup.classList.remove(\"popup_opened\");document.body.removeEventListener(\"keyup\",handleEscClose);Popup.removeEventListener(\"click\",closeByOverlay);};},[isOpen,closeByOverlay,handleEscClose]);return/*#__PURE__*/_jsx(\"div\",{className:\"popup image\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container image__container\",children:[/*#__PURE__*/_jsx(\"img\",{src:src,alt:nameImg,className:\"popup__image\"}),/*#__PURE__*/_jsx(\"p\",{className:\"popup__figcaption-image\",children:nameImg}),/*#__PURE__*/_jsx(\"button\",{className:\"popup__close\",type:\"button\",onClick:onClose})]})});}export default ImagePopup;","map":{"version":3,"sources":["/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/Components/ImagePopup.js"],"names":["React","useCallback","ImagePopup","card","isOpen","onClose","src","nameImg","closeByOverlay","evt","target","currentTarget","handleEscClose","key","useEffect","Popup","document","querySelector","classList","add","body","addEventListener","remove","removeEventListener"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,KAAmC,OAAnC,CAEA,QAASC,CAAAA,UAAT,MAA8C,IAAxBC,CAAAA,IAAwB,MAAxBA,IAAwB,CAAlBC,MAAkB,MAAlBA,MAAkB,CAAVC,OAAU,MAAVA,OAAU,CAE5C,GAAMC,CAAAA,GAAG,CAAGH,IAAI,CAACG,GAAjB,CACA,GAAMC,CAAAA,OAAO,CAAGJ,IAAI,CAACI,OAArB,CAEA,GAAMC,CAAAA,cAAc,CAAGP,WAAW,CAAC,SAACQ,GAAD,CAAS,CAC1C,GAAIA,GAAG,CAACC,MAAJ,GAAeD,GAAG,CAACE,aAAvB,CAAsC,OACtCN,OAAO,GACR,CAHiC,CAG/B,CAACA,OAAD,CAH+B,CAAlC,CAKA,GAAMO,CAAAA,cAAc,CAAGX,WAAW,CAAC,SAACQ,GAAD,CAAS,CAC1C,GAAIA,GAAG,CAACI,GAAJ,GAAY,QAAhB,CAA0B,CACxBR,OAAO,GACR,CACF,CAJiC,CAI/B,CAACA,OAAD,CAJ+B,CAAlC,CAOAL,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpB,GAAGV,MAAH,CAAW,CACT,GAAMW,CAAAA,KAAK,CAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd,CACAF,KAAK,CAACG,SAAN,CAAgBC,GAAhB,CAAoB,cAApB,EACAH,QAAQ,CAACI,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,CAAwCT,cAAxC,EACAG,KAAK,CAACM,gBAAN,CAAuB,OAAvB,CAAgCb,cAAhC,EACD,CACD,MAAO,WAAM,CACX,GAAMO,CAAAA,KAAK,CAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd,CACAF,KAAK,CAACG,SAAN,CAAgBI,MAAhB,CAAuB,cAAvB,EACAN,QAAQ,CAACI,IAAT,CAAcG,mBAAd,CAAkC,OAAlC,CAA2CX,cAA3C,EACAG,KAAK,CAACQ,mBAAN,CAA0B,OAA1B,CAAmCf,cAAnC,EACD,CALD,CAMD,CAbD,CAaG,CAACJ,MAAD,CAASI,cAAT,CAAyBI,cAAzB,CAbH,EAeF,mBACE,YAAK,SAAS,CAAC,aAAf,uBACE,aAAK,SAAS,CAAC,mCAAf,wBACE,YACE,GAAG,CAAEN,GADP,CAEE,GAAG,CAAEC,OAFP,CAGE,SAAS,CAAC,cAHZ,EADF,cAME,UAAG,SAAS,CAAC,yBAAb,UAAwCA,OAAxC,EANF,cAOE,eAAQ,SAAS,CAAC,cAAlB,CAAiC,IAAI,CAAC,QAAtC,CAA+C,OAAO,CAAEF,OAAxD,EAPF,GADF,EADF,CAeC,CAED,cAAeH,CAAAA,UAAf","sourcesContent":["import React, { useCallback } from 'react';\n\nfunction ImagePopup ({card, isOpen, onClose}) {\n  \n  const src = card.src;\n  const nameImg = card.nameImg;\n\n  const closeByOverlay = useCallback((evt) => {\n    if (evt.target !== evt.currentTarget) return;\n    onClose();\n  }, [onClose])\n\n  const handleEscClose = useCallback((evt) => {\n    if (evt.key === \"Escape\") {\n      onClose();\n    }\n  }, [onClose])\n\n\n  React.useEffect(() => {\n    if(isOpen) {\n      const Popup = document.querySelector('.image');\n      Popup.classList.add(\"popup_opened\");\n      document.body.addEventListener(\"keyup\", handleEscClose);\n      Popup.addEventListener(\"click\", closeByOverlay);\n    }\n    return () => {\n      const Popup = document.querySelector('.image');\n      Popup.classList.remove(\"popup_opened\");\n      document.body.removeEventListener(\"keyup\", handleEscClose);\n      Popup.removeEventListener(\"click\", closeByOverlay);\n    };\n  }, [isOpen, closeByOverlay, handleEscClose]); \n\nreturn (\n  <div className=\"popup image\">\n    <div className=\"popup__container image__container\">\n      <img\n        src={src}\n        alt={nameImg}\n        className=\"popup__image\"\n      />\n      <p className=\"popup__figcaption-image\">{nameImg}</p>\n      <button className=\"popup__close\" type=\"button\" onClick={onClose}></button>\n      \n    </div>\n  </div>\n)\n\n}\n\nexport default ImagePopup"]},"metadata":{},"sourceType":"module"}