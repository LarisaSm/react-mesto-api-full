{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from\"react\";import CurrentUserContext from\"../contexts/CurrentUserContext\";function Card(_ref){var cardId=_ref.cardId,src=_ref.src,nameImg=_ref.nameImg,like=_ref.like,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete,ownerId=_ref.ownerId,setConfirmOpen=_ref.setConfirmOpen;var currentUser=React.useContext(CurrentUserContext);// Определяем, являемся ли мы владельцем текущей карточки\nvar isOwn=ownerId===currentUser._id;// Создаём переменную, которую после зададим в `className` для кнопки удаления\nvar cardDeleteButtonClassName=\"element__trash \".concat(isOwn?\" \":\"element__trash_invisible\");// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nvar isLiked=like.some(function(i){return i._id===currentUser._id;});// Создаём переменную, которую после зададим в `className` для кнопки лайка\nvar cardLikeButtonClassName=\"element__like \".concat(isLiked?\"element__like_type_active\":\" \");function handleImgClick(){onCardClick({src:src,nameImg:nameImg});}function handleLikeClick(){// console.log(\"========LIKE=======\");\n// console.log(like);\nonCardLike(like,cardId);}function handleDeleteClick(){setConfirmOpen(true);onCardDelete({ownerId:ownerId,cardId:cardId});}return/*#__PURE__*/_jsxs(\"div\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"img\",{src:src,alt:nameImg,className:\"element__img\",onClick:handleImgClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__name\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"element__title\",children:nameImg}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__likes\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,type:\"button\",onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"p\",{className:\"element__like-counter\",children:like.length})]})]}),/*#__PURE__*/_jsx(\"button\",{className:cardDeleteButtonClassName,type:\"button\",onClick:handleDeleteClick})]});}export default Card;","map":{"version":3,"sources":["/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/Card.js"],"names":["React","CurrentUserContext","Card","cardId","src","nameImg","like","onCardClick","onCardLike","onCardDelete","ownerId","setConfirmOpen","currentUser","useContext","isOwn","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","handleImgClick","handleLikeClick","handleDeleteClick","length"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,gCAA/B,CAEA,QAASC,CAAAA,IAAT,MAUG,IATDC,CAAAA,MASC,MATDA,MASC,CARDC,GAQC,MARDA,GAQC,CAPDC,OAOC,MAPDA,OAOC,CANDC,IAMC,MANDA,IAMC,CALDC,WAKC,MALDA,WAKC,CAJDC,UAIC,MAJDA,UAIC,CAHDC,YAGC,MAHDA,YAGC,CAFDC,OAEC,MAFDA,OAEC,CADDC,cACC,MADDA,cACC,CACD,GAAMC,CAAAA,WAAW,CAAGZ,KAAK,CAACa,UAAN,CAAiBZ,kBAAjB,CAApB,CAEA;AACA,GAAMa,CAAAA,KAAK,CAAGJ,OAAO,GAAKE,WAAW,CAACG,GAAtC,CACA;AACA,GAAMC,CAAAA,yBAAyB,0BAC7BF,KAAK,CAAG,GAAH,CAAS,0BADe,CAA/B,CAIA;AACA,GAAMG,CAAAA,OAAO,CAAGX,IAAI,CAACY,IAAL,CAAU,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACJ,GAAF,GAAUH,WAAW,CAACG,GAA7B,EAAV,CAAhB,CAEA;AACA,GAAMK,CAAAA,uBAAuB,yBAC3BH,OAAO,CAAG,2BAAH,CAAiC,GADb,CAA7B,CAIA,QAASI,CAAAA,cAAT,EAA0B,CACxBd,WAAW,CAAC,CAAEH,GAAG,CAAHA,GAAF,CAAOC,OAAO,CAAPA,OAAP,CAAD,CAAX,CACD,CAED,QAASiB,CAAAA,eAAT,EAA2B,CACzB;AACA;AACAd,UAAU,CAACF,IAAD,CAAOH,MAAP,CAAV,CACD,CAED,QAASoB,CAAAA,iBAAT,EAA6B,CAC3BZ,cAAc,CAAC,IAAD,CAAd,CACAF,YAAY,CAAC,CACXC,OAAO,CAAEA,OADE,CAEXP,MAAM,CAAEA,MAFG,CAAD,CAAZ,CAID,CAED,mBACE,aAAK,SAAS,CAAC,SAAf,wBACE,YACE,GAAG,CAAEC,GADP,CAEE,GAAG,CAAEC,OAFP,CAGE,SAAS,CAAC,cAHZ,CAIE,OAAO,CAAEgB,cAJX,EADF,cAOE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,gBAAd,UAAgChB,OAAhC,EADF,cAEE,aAAK,SAAS,CAAC,gBAAf,wBACE,eACE,SAAS,CAAEe,uBADb,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAEE,eAHX,EADF,cAME,UAAG,SAAS,CAAC,uBAAb,UAAsChB,IAAI,CAACkB,MAA3C,EANF,GAFF,GAPF,cAkBE,eACE,SAAS,CAAER,yBADb,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAEO,iBAHX,EAlBF,GADF,CA0BD,CAED,cAAerB,CAAAA,IAAf","sourcesContent":["import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card({\n  cardId,\n  src,\n  nameImg,\n  like,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n  ownerId,\n  setConfirmOpen,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = ownerId === currentUser._id;\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `element__trash ${\n    isOwn ? \" \" : \"element__trash_invisible\"\n  }`;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = like.some((i) => i._id === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `element__like ${\n    isLiked ? \"element__like_type_active\" : \" \"\n  }`;\n\n  function handleImgClick() {\n    onCardClick({ src, nameImg });\n  }\n\n  function handleLikeClick() {\n    // console.log(\"========LIKE=======\");\n    // console.log(like);\n    onCardLike(like, cardId);\n  }\n\n  function handleDeleteClick() {\n    setConfirmOpen(true);\n    onCardDelete({\n      ownerId: ownerId,\n      cardId: cardId,\n    });\n  }\n\n  return (\n    <div className=\"element\">\n      <img\n        src={src}\n        alt={nameImg}\n        className=\"element__img\"\n        onClick={handleImgClick}\n      />\n      <div className=\"element__name\">\n        <h3 className=\"element__title\">{nameImg}</h3>\n        <div className=\"element__likes\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"element__like-counter\">{like.length}</p>\n        </div>\n      </div>\n      <button\n        className={cardDeleteButtonClassName}\n        type=\"button\"\n        onClick={handleDeleteClick}\n      ></button>\n    </div>\n  );\n}\n\nexport default Card;\n"]},"metadata":{},"sourceType":"module"}