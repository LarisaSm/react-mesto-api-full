{"ast":null,"code":"class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._url + 'cards', {\n      headers: this._headers\n    }).then(res => this._returnData(res));\n  }\n\n  addNewCard(name, link) {\n    return fetch(this._url + 'cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    }).then(res => this._returnData(res));\n  }\n\n  editUserInfo(name, about) {\n    return fetch(this._url + 'users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    }).then(res => this._returnData(res));\n  }\n\n  getUserInfo() {\n    return fetch(this._url + 'users/me', {\n      headers: this._headers\n    }).then(res => this._returnData(res));\n  }\n\n  deleteCard(id) {\n    return fetch(this._url + `cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => this._returnData(res));\n  }\n\n  likeCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(res => this._returnData(res));\n  }\n\n  deleteLikeCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => this._returnData(res));\n  }\n\n  getLikesCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(res => this._returnData(res));\n  }\n\n  setUserAvatar(avatar) {\n    return fetch(this._url + 'users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    }).then(res => this._returnData(res));\n  }\n\n  _returnData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-20/\",\n  headers: {\n    authorization: '4b126959-9593-4c1c-9c1d-30d3e8eeddbf',\n    \"content-type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"sources":["/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/utils/Api.js"],"names":["Api","constructor","config","_url","url","_headers","headers","getInitialCards","fetch","then","res","_returnData","addNewCard","name","link","method","body","JSON","stringify","editUserInfo","about","getUserInfo","deleteCard","id","likeCard","deleteLikeCard","getLikesCard","setUserAvatar","avatar","ok","json","Promise","reject","status","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor (config) {\n      this._url = config.url;\n      this._headers = config.headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._url + 'cards', {\n      headers: this._headers,\n  })\n      .then(res => this._returnData(res));\n  } \n\n  addNewCard (name, link) {\n    return fetch(this._url + 'cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link \n      })\n    })\n    .then((res) => this._returnData(res));\n}\n\n  editUserInfo (name, about) {\n    return fetch(this._url + 'users/me', {\n    method: 'PATCH',\n    headers: this._headers,\n    body: JSON.stringify({\n      name: name,\n      about: about \n    })\n  })\n  .then((res) => this._returnData(res));\n}\n  \n  getUserInfo () {\n    return fetch(this._url + 'users/me', {\n        headers: this._headers\n      })\n      .then((res) => this._returnData(res));\n    }\n\n\n  deleteCard(id) {\n      return fetch(this._url + `cards/${id}`, {\n          method: \"DELETE\",\n          headers: this._headers,\n      }).then((res) => this._returnData(res))\n  }\n\n  likeCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: this._headers,\n  }).then((res) => this._returnData(res))\n  }\n\n  deleteLikeCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n  }).then((res) => this._returnData(res))\n  }\n\n  getLikesCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"GET\",\n      headers: this._headers,\n  }).then((res) => this._returnData(res))\n  }\n\n  setUserAvatar(avatar) {\n    return fetch(this._url + 'users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar \n      })\n    })\n    .then((res) => this._returnData(res));\n  }\n\n_returnData (res) {\n  if (res.ok) {\n    return res.json();\n  }\n\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-20/\",\n  headers: {\n\t\tauthorization: '4b126959-9593-4c1c-9c1d-30d3e8eeddbf',\n    \"content-type\": \"application/json\",\n  }\n}); \n\nexport default api;"]},"metadata":{},"sourceType":"module"}