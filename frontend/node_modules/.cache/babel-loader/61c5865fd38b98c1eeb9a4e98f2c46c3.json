{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/lara/Documents/\\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435/\\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435/yaPractik/mesto-react-auth/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import AuthForm from\"./AuthForm\";import{withRouter,useHistory}from\"react-router-dom\";import*as Auth from\"./Auth\";function Login(_ref){var handleLogin=_ref.handleLogin;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),inputEmailValue=_React$useState2[0],setInputEmailValue=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),inputPassValue=_React$useState4[0],setInputPassValue=_React$useState4[1];var history=useHistory();function handleSubmit(e){e.preventDefault();Auth.authorize(inputPassValue,inputEmailValue).then(function(data){try{if(data.token){handleLogin(e,inputEmailValue);setInputEmailValue(\" \");setInputPassValue(\" \");history.push(\"/\");}}catch(e){return e;}}).catch(function(err){setInputEmailValue(\"\");setInputPassValue(\"\");console.log(err);});}function handleEmailChange(evt){setInputEmailValue(evt.target.value);}function handlePassChange(evt){setInputPassValue(evt.target.value);}return/*#__PURE__*/_jsxs(AuthForm,{button:\"\\u0412\\u043E\\u0439\\u0442\\u0438\",title:\"\\u0412\\u0445\\u043E\\u0434\",formId:\"auth\",onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsx(\"input\",{id:\"email-input\",type:\"email\",className:\"auth__input\",autoComplete:\"off\",placeholder:\"Email\",name:\"email\",value:inputEmailValue,onChange:handleEmailChange,required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"email-input-error\",className:\"auth__input-error\"}),/*#__PURE__*/_jsx(\"input\",{id:\"pass-input\",type:\"password\",className:\"auth__input\",autoComplete:\"new-password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",name:\"pass\",value:inputPassValue,minLength:\"2\",maxLength:\"200\",required:true,onChange:handlePassChange}),/*#__PURE__*/_jsx(\"span\",{id:\"pass-input-error\",className:\"auth__input-error\"})]});}export default withRouter(Login);","map":{"version":3,"sources":["/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react-auth/react-mesto-auth/src/components/Login.js"],"names":["React","AuthForm","withRouter","useHistory","Auth","Login","handleLogin","useState","inputEmailValue","setInputEmailValue","inputPassValue","setInputPassValue","history","handleSubmit","e","preventDefault","authorize","then","data","token","push","catch","err","console","log","handleEmailChange","evt","target","value","handlePassChange"],"mappings":"kaAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAASC,UAAT,CAAqBC,UAArB,KAAuC,kBAAvC,CAEA,MAAO,GAAKC,CAAAA,IAAZ,KAAsB,QAAtB,CAEA,QAASC,CAAAA,KAAT,MAAgC,IAAfC,CAAAA,WAAe,MAAfA,WAAe,qBACgBN,KAAK,CAACO,QAAN,CAAe,EAAf,CADhB,oDACvBC,eADuB,qBACNC,kBADM,0CAEcT,KAAK,CAACO,QAAN,CAAe,EAAf,CAFd,qDAEvBG,cAFuB,qBAEPC,iBAFO,qBAI9B,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CAEA,QAASU,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvBA,CAAC,CAACC,cAAF,GACAX,IAAI,CAACY,SAAL,CAAeN,cAAf,CAA+BF,eAA/B,EACGS,IADH,CACQ,SAACC,IAAD,CAAU,CACd,GAAI,CACF,GAAIA,IAAI,CAACC,KAAT,CAAgB,CACdb,WAAW,CAACQ,CAAD,CAAIN,eAAJ,CAAX,CACAC,kBAAkB,CAAC,GAAD,CAAlB,CACAE,iBAAiB,CAAC,GAAD,CAAjB,CACAC,OAAO,CAACQ,IAAR,CAAa,GAAb,EACD,CACF,CAAC,MAAON,CAAP,CAAU,CACV,MAAOA,CAAAA,CAAP,CACD,CACF,CAZH,EAaGO,KAbH,CAaS,SAACC,GAAD,CAAS,CACdb,kBAAkB,CAAC,EAAD,CAAlB,CACAE,iBAAiB,CAAC,EAAD,CAAjB,CACAY,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAjBH,EAkBD,CAED,QAASG,CAAAA,iBAAT,CAA2BC,GAA3B,CAAgC,CAC9BjB,kBAAkB,CAACiB,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAlB,CACD,CAED,QAASC,CAAAA,gBAAT,CAA0BH,GAA1B,CAA+B,CAC7Bf,iBAAiB,CAACe,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAjB,CACD,CAED,mBACE,MAAC,QAAD,EACE,MAAM,CAAC,gCADT,CAEE,KAAK,CAAC,0BAFR,CAGE,MAAM,CAAC,MAHT,CAIE,QAAQ,CAAE,kBAACd,CAAD,QAAOD,CAAAA,YAAY,CAACC,CAAD,CAAnB,EAJZ,wBAME,cACE,EAAE,CAAC,aADL,CAEE,IAAI,CAAC,OAFP,CAGE,SAAS,CAAC,aAHZ,CAIE,YAAY,CAAC,KAJf,CAKE,WAAW,CAAC,OALd,CAME,IAAI,CAAC,OANP,CAOE,KAAK,CAAEN,eAPT,CAQE,QAAQ,CAAEiB,iBARZ,CASE,QAAQ,KATV,EANF,cAiBE,aAAM,EAAE,CAAC,mBAAT,CAA6B,SAAS,CAAC,mBAAvC,EAjBF,cAkBE,cACE,EAAE,CAAC,YADL,CAEE,IAAI,CAAC,UAFP,CAGE,SAAS,CAAC,aAHZ,CAIE,YAAY,CAAC,cAJf,CAKE,WAAW,CAAC,sCALd,CAME,IAAI,CAAC,MANP,CAOE,KAAK,CAAEf,cAPT,CAQE,SAAS,CAAC,GARZ,CASE,SAAS,CAAC,KATZ,CAUE,QAAQ,KAVV,CAWE,QAAQ,CAAEmB,gBAXZ,EAlBF,cA+BE,aAAM,EAAE,CAAC,kBAAT,CAA4B,SAAS,CAAC,mBAAtC,EA/BF,GADF,CAmCD,CAED,cAAe3B,CAAAA,UAAU,CAACG,KAAD,CAAzB","sourcesContent":["import React from \"react\";\nimport AuthForm from \"./AuthForm\";\nimport { withRouter, useHistory } from \"react-router-dom\";\n\nimport * as Auth from \"./Auth\";\n\nfunction Login({ handleLogin }) {\n  const [inputEmailValue, setInputEmailValue] = React.useState(\"\");\n  const [inputPassValue, setInputPassValue] = React.useState(\"\");\n\n  const history = useHistory();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    Auth.authorize(inputPassValue, inputEmailValue)\n      .then((data) => {\n        try {\n          if (data.token) {\n            handleLogin(e, inputEmailValue);\n            setInputEmailValue(\" \");\n            setInputPassValue(\" \");\n            history.push(\"/\");\n          }\n        } catch (e) {\n          return e;\n        }\n      })\n      .catch((err) => {\n        setInputEmailValue(\"\");\n        setInputPassValue(\"\");\n        console.log(err);\n      });\n  }\n\n  function handleEmailChange(evt) {\n    setInputEmailValue(evt.target.value);\n  }\n\n  function handlePassChange(evt) {\n    setInputPassValue(evt.target.value);\n  }\n\n  return (\n    <AuthForm\n      button=\"Войти\"\n      title=\"Вход\"\n      formId=\"auth\"\n      onSubmit={(e) => handleSubmit(e)}\n    >\n      <input\n        id=\"email-input\"\n        type=\"email\"\n        className=\"auth__input\"\n        autoComplete=\"off\"\n        placeholder=\"Email\"\n        name=\"email\"\n        value={inputEmailValue}\n        onChange={handleEmailChange}\n        required\n      />\n      <span id=\"email-input-error\" className=\"auth__input-error\"></span>\n      <input\n        id=\"pass-input\"\n        type=\"password\"\n        className=\"auth__input\"\n        autoComplete=\"new-password\"\n        placeholder=\"Пароль\"\n        name=\"pass\"\n        value={inputPassValue}\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n        onChange={handlePassChange}\n      />\n      <span id=\"pass-input-error\" className=\"auth__input-error\"></span>\n    </AuthForm>\n  );\n}\n\nexport default withRouter(Login);\n"]},"metadata":{},"sourceType":"module"}