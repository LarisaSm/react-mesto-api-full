{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/lara/Documents/\\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435/\\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435/yaPractik/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import ImagePopup from'./ImagePopup';import Confirm from'./Confirm';import Api from'../utils/api';import Header from'./Header';import Footer from'./Footer';import Main from'./Main';import EditProfilePopup from'./EditProfilePopup';import EditAvatarPopup from'./EditAvatarPopup';import AddPlacePopup from'./AddPlacePopup';import CurrentUserContext from'../contexts/CurrentUserContext';function App(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isEditProfilePopupOpen=_React$useState2[0],setEditProfilePopupState=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isEditAvatarPopupOpen=_React$useState4[0],setEditAvatarPopupState=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isAddPlacePopupOpen=_React$useState6[0],setAddPlacerPopupState=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),isImagePopupOpen=_React$useState8[0],setImagePopupState=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),isConfirmOpen=_React$useState10[0],setConfirmOpen=_React$useState10[1];var _React$useState11=React.useState([{src:'',nameImg:'',like:[''],cardId:'',ownerId:''}]),_React$useState12=_slicedToArray(_React$useState11,2),cards=_React$useState12[0],setCards=_React$useState12[1];var _React$useState13=React.useState(false),_React$useState14=_slicedToArray(_React$useState13,2),isLoading=_React$useState14[0],setIsLoading=_React$useState14[1];var _React$useState15=React.useState({src:'',nameImg:''}),_React$useState16=_slicedToArray(_React$useState15,2),selectedCard=_React$useState16[0],setSelectedCard=_React$useState16[1];var _React$useState17=React.useState(false),_React$useState18=_slicedToArray(_React$useState17,2),isLoadingConfirm=_React$useState18[0],setIsLoadingConfirm=_React$useState18[1];var _React$useState19=React.useState({name:'',about:''}),_React$useState20=_slicedToArray(_React$useState19,2),currentUser=_React$useState20[0],setСurrentUser=_React$useState20[1];var _React$useState21=React.useState(''),_React$useState22=_slicedToArray(_React$useState21,2),confirmAction=_React$useState22[0],setConfirmAction=_React$useState22[1];var _React$useState23=React.useState({name:'',about:''}),_React$useState24=_slicedToArray(_React$useState23,2),confirmObj=_React$useState24[0],setConfirmObj=_React$useState24[1];React.useEffect(function(){Api.getUserInfo().then(function(res){setСurrentUser(res);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});},[]);function closeAllPopups(){setEditProfilePopupState(false);setEditAvatarPopupState(false);setAddPlacerPopupState(false);setImagePopupState(false);setSelectedCard([]);}function handleCardClick(_ref){var src=_ref.src,nameImg=_ref.nameImg;setSelectedCard({src:src,nameImg:nameImg});setImagePopupState(true);}function handleConfirmClick(){setConfirmOpen(true);}function handleEditProfileClick(evt){evt.preventDefault();setEditProfilePopupState(true);}function handleEditAvatarClick(e){e.preventDefault();setEditAvatarPopupState(true);}function handleAddPlaceClick(evt){evt.preventDefault();setAddPlacerPopupState(true);}function handleCardLike(like,cardId){// Снова проверяем, есть ли уже лайк на этой карточке\nvar isLiked=like.some(function(i){return i._id===currentUser._id;});// console.log('main -> handleCardLike');\nif(!isLiked){// console.log(\"main -> handleCardLike -> like\")\nApi.likeCard(cardId).then(function(newCard){var newCards=cards.map(function(c){return c.cardId===newCard._id?{src:newCard.link,nameImg:newCard.name,like:newCard.likes,cardId:newCard._id,ownerId:newCard.owner._id}:c;});setCards(newCards);});}else{// console.log(\"main -> handleCardLike -> deleteLike\")\nApi.deleteLikeCard(cardId).then(function(newCard){var newCards=cards.map(function(c){return c.cardId===newCard._id?{src:newCard.link,nameImg:newCard.name,like:newCard.likes,cardId:newCard._id,ownerId:newCard.owner._id}:c;});setCards(newCards);});}}React.useEffect(function(){setIsLoading(true);Api.getInitialCards().then(function(res){setCards(res.map(function(item){return{src:item.link,nameImg:item.name,like:item.likes,cardId:item._id,ownerId:item.owner._id};}));setIsLoading(false);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});},[]);return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Main,{cards:cards,onEditProfile:function onEditProfile(e){return handleEditProfileClick(e);},onEditAvatar:function onEditAvatar(e){return handleEditAvatarClick(e);},onAddPlace:function onAddPlace(e){return handleAddPlaceClick(e);},onCardClick:handleCardClick,setConfirmOpen:handleConfirmClick,setConfirmAction:setConfirmAction,setConfirmObj:setConfirmObj,onCardLike:handleCardLike,isLoading:isLoading}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,setConfirmOpen:handleConfirmClick,setConfirmAction:setConfirmAction,setConfirmObj:setConfirmObj}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,setConfirmOpen:handleConfirmClick,setConfirmAction:setConfirmAction,setConfirmObj:setConfirmObj}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,setConfirmOpen:handleConfirmClick,setConfirmAction:setConfirmAction,setConfirmObj:setConfirmObj}),/*#__PURE__*/_jsx(Confirm,{isOpen:isConfirmOpen,setIsOpen:setConfirmOpen,confirmAction:confirmAction,confirmObj:confirmObj,setСurrentUser:setСurrentUser,cards:cards,setCards:setCards,isLoadingConfirm:isLoadingConfirm,setIsLoadingConfirm:setIsLoadingConfirm}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,isOpen:isImagePopupOpen,onClose:closeAllPopups})]})});}export default App;","map":{"version":3,"sources":["/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/App.js"],"names":["React","ImagePopup","Confirm","Api","Header","Footer","Main","EditProfilePopup","EditAvatarPopup","AddPlacePopup","CurrentUserContext","App","useState","isEditProfilePopupOpen","setEditProfilePopupState","isEditAvatarPopupOpen","setEditAvatarPopupState","isAddPlacePopupOpen","setAddPlacerPopupState","isImagePopupOpen","setImagePopupState","isConfirmOpen","setConfirmOpen","src","nameImg","like","cardId","ownerId","cards","setCards","isLoading","setIsLoading","selectedCard","setSelectedCard","isLoadingConfirm","setIsLoadingConfirm","name","about","currentUser","setСurrentUser","confirmAction","setConfirmAction","confirmObj","setConfirmObj","useEffect","getUserInfo","then","res","catch","err","console","log","closeAllPopups","handleCardClick","handleConfirmClick","handleEditProfileClick","evt","preventDefault","handleEditAvatarClick","e","handleAddPlaceClick","handleCardLike","isLiked","some","i","_id","likeCard","newCard","newCards","map","c","link","likes","owner","deleteLikeCard","getInitialCards","item"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ImagePopup from './ImagePopup';\nimport Confirm from './Confirm';\nimport Api from '../utils/api';\n\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\n\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupState] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupState] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacerPopupState] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupState] = React.useState(false);\n  const [isConfirmOpen, setConfirmOpen] = React.useState(false);\n\n  const [cards, setCards] = React.useState([{\n      src: '',\n      nameImg: '',\n      like: [''],\n      cardId: '',\n      ownerId: ''\n  }]); \n  const [isLoading, setIsLoading] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({src: '', nameImg: ''});\n  const [isLoadingConfirm, setIsLoadingConfirm] = React.useState(false);\n\n\n  const [currentUser, setСurrentUser] = React.useState({name: '', about: ''}); \n\n  const [confirmAction, setConfirmAction] = React.useState('');\n  const [confirmObj, setConfirmObj] = React.useState({name: '', about: ''});\n\n  React.useEffect(() => {\n    Api.getUserInfo().then((res) => {\n      setСurrentUser(res);\n    })\n    .catch((err) => {\n      console.log(err); // выведем ошибку в консоль\n    });\n  }, []);\n\n  function closeAllPopups() {\n    setEditProfilePopupState(false);\n    setEditAvatarPopupState(false);\n    setAddPlacerPopupState(false);\n    setImagePopupState(false);\n    setSelectedCard([]);\n  }\n\n  function handleCardClick({src, nameImg}) {\n    setSelectedCard({src, nameImg});\n    setImagePopupState(true);\n  }\n\n  function handleConfirmClick() {\n    setConfirmOpen(true);\n  }\n\n  function handleEditProfileClick (evt) {\n    evt.preventDefault();\n    setEditProfilePopupState(true);\n  }\n\n  function handleEditAvatarClick (e) {\n    e.preventDefault();\n    setEditAvatarPopupState(true);\n  }\n  \n  function handleAddPlaceClick (evt) {\n    evt.preventDefault();\n    setAddPlacerPopupState(true);\n  }\n\n\n   function handleCardLike(like, cardId) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = like.some(i => i._id === currentUser._id);\n    // console.log('main -> handleCardLike');\n    if(!isLiked) {\n      // console.log(\"main -> handleCardLike -> like\")\n      Api.likeCard(cardId)\n      .then((newCard) => {\n          const newCards = cards.map((c) => c.cardId === newCard._id ? ({\n            src: newCard.link,\n            nameImg: newCard.name,\n            like: newCard.likes,\n            cardId: newCard._id,\n            ownerId: newCard.owner._id\n          }) : c);\n        setCards(newCards);\n      })\n    }\n    else {\n      // console.log(\"main -> handleCardLike -> deleteLike\")\n      Api.deleteLikeCard(cardId)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c.cardId === newCard._id ? ({\n          src: newCard.link,\n          nameImg: newCard.name,\n          like: newCard.likes,\n          cardId: newCard._id,\n          ownerId: newCard.owner._id\n        }) : c);\n      setCards(newCards);\n    })\n    }\n} \n\nReact.useEffect(() => {\n  setIsLoading(true);\n  Api.getInitialCards()\n  .then((res) => {\n    setCards(res.map((item) => ({\n      src: item.link,\n      nameImg: item.name,\n      like: item.likes,\n      cardId: item._id,\n      ownerId: item.owner._id\n    })));\n    setIsLoading(false);\n  })\n  .catch((err) => {\n    console.log(err); // выведем ошибку в консоль\n  });\n}, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"App\">\n      <Header />\n      <Main \n        cards={cards}\n        onEditProfile = {(e) => handleEditProfileClick(e)} \n        onEditAvatar = {(e) => handleEditAvatarClick(e)}\n        onAddPlace = {(e) => handleAddPlaceClick(e)}\n        onCardClick = {handleCardClick}\n        setConfirmOpen={handleConfirmClick}\n        setConfirmAction={setConfirmAction}\n        setConfirmObj={setConfirmObj}\n        onCardLike={handleCardLike}\n        isLoading={isLoading}\n        />\n      <Footer />\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} setConfirmOpen={handleConfirmClick} setConfirmAction={setConfirmAction} setConfirmObj={setConfirmObj}></EditProfilePopup>\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} setConfirmOpen={handleConfirmClick} setConfirmAction={setConfirmAction} setConfirmObj={setConfirmObj}></EditAvatarPopup>\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} setConfirmOpen={handleConfirmClick} setConfirmAction={setConfirmAction} setConfirmObj={setConfirmObj}></AddPlacePopup>\n\n      <Confirm isOpen={isConfirmOpen} setIsOpen={setConfirmOpen} confirmAction={confirmAction} confirmObj={confirmObj} setСurrentUser={setСurrentUser} cards={cards} setCards={setCards} isLoadingConfirm={isLoadingConfirm} setIsLoadingConfirm={setIsLoadingConfirm}/>\n      <ImagePopup \n        card={selectedCard} \n        isOpen={isImagePopupOpen}   \n        onClose={closeAllPopups}/>\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}