{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import CurrentUserContext from'../contexts/CurrentUserContext';function Card(_ref){var cardId=_ref.cardId,src=_ref.src,nameImg=_ref.nameImg,like=_ref.like,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,ownerId=_ref.ownerId,setConfirmOpen=_ref.setConfirmOpen,setConfirmAction=_ref.setConfirmAction,setConfirmObj=_ref.setConfirmObj;var currentUser=React.useContext(CurrentUserContext);// Определяем, являемся ли мы владельцем текущей карточки\nvar isOwn=ownerId===currentUser._id;// Создаём переменную, которую после зададим в `className` для кнопки удаления\nvar cardDeleteButtonClassName=\"element__trash \".concat(isOwn?' ':'element__trash_invisible');// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nvar isLiked=like.some(function(i){return i._id===currentUser._id;});// Создаём переменную, которую после зададим в `className` для кнопки лайка\nvar cardLikeButtonClassName=\"element__like \".concat(isLiked?'element__like_type_active':' ');function handleImgClick(){onCardClick({src:src,nameImg:nameImg});}function handleLikeClick(){// console.log(\"========LIKE=======\");\n// console.log(like);\nonCardLike(like,cardId);}function handleCardDelete(){// console.log(\"handleCardDelete\");\nsetConfirmOpen();setConfirmAction('cardDelete');setConfirmObj({ownerId:ownerId,cardId:cardId});}return/*#__PURE__*/_jsxs(\"div\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"img\",{src:src,alt:nameImg,className:\"element__img\",onClick:handleImgClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__name\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"element__title\",children:nameImg}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__likes\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,type:\"button\",onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"p\",{className:\"element__like-counter\",children:like.length})]})]}),/*#__PURE__*/_jsx(\"button\",{className:cardDeleteButtonClassName,type:\"button\",onClick:handleCardDelete})]});}export default Card;","map":{"version":3,"sources":["/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/Components/Card.js"],"names":["React","CurrentUserContext","Card","cardId","src","nameImg","like","onCardClick","onCardLike","ownerId","setConfirmOpen","setConfirmAction","setConfirmObj","currentUser","useContext","isOwn","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","handleImgClick","handleLikeClick","handleCardDelete","length"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,gCAA/B,CAEA,QAASC,CAAAA,IAAT,MAAgI,IAAhHC,CAAAA,MAAgH,MAAhHA,MAAgH,CAAxGC,GAAwG,MAAxGA,GAAwG,CAAnGC,OAAmG,MAAnGA,OAAmG,CAA1FC,IAA0F,MAA1FA,IAA0F,CAApFC,WAAoF,MAApFA,WAAoF,CAAvEC,UAAuE,MAAvEA,UAAuE,CAA3DC,OAA2D,MAA3DA,OAA2D,CAAlDC,cAAkD,MAAlDA,cAAkD,CAAlCC,gBAAkC,MAAlCA,gBAAkC,CAAhBC,aAAgB,MAAhBA,aAAgB,CAE9H,GAAMC,CAAAA,WAAW,CAAGb,KAAK,CAACc,UAAN,CAAiBb,kBAAjB,CAApB,CAEA;AACA,GAAMc,CAAAA,KAAK,CAAGN,OAAO,GAAKI,WAAW,CAACG,GAAtC,CACA;AACA,GAAMC,CAAAA,yBAAyB,0BACXF,KAAK,CAAG,GAAH,CAAS,0BADH,CAA/B,CAIA;AACA,GAAMG,CAAAA,OAAO,CAAGZ,IAAI,CAACa,IAAL,CAAU,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACJ,GAAF,GAAUH,WAAW,CAACG,GAA1B,EAAX,CAAhB,CAEA;AACA,GAAMK,CAAAA,uBAAuB,yBACZH,OAAO,CAAG,2BAAH,CAAiC,GAD5B,CAA7B,CAGA,QAASI,CAAAA,cAAT,EAAyB,CACvBf,WAAW,CAAC,CAACH,GAAG,CAAHA,GAAD,CAAMC,OAAO,CAAPA,OAAN,CAAD,CAAX,CACD,CAED,QAASkB,CAAAA,eAAT,EAA2B,CACzB;AACA;AACAf,UAAU,CAACF,IAAD,CAAOH,MAAP,CAAV,CACD,CAED,QAASqB,CAAAA,gBAAT,EAA2B,CACzB;AACAd,cAAc,GACdC,gBAAgB,CAAC,YAAD,CAAhB,CACAC,aAAa,CAAC,CACZH,OAAO,CAAEA,OADG,CAEZN,MAAM,CAAEA,MAFI,CAAD,CAAb,CAID,CAED,mBACE,aAAK,SAAS,CAAC,SAAf,wBACE,YAAK,GAAG,CAAEC,GAAV,CAAe,GAAG,CAAEC,OAApB,CAA6B,SAAS,CAAC,cAAvC,CAAsD,OAAO,CAAEiB,cAA/D,EADF,cAEE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,gBAAd,UAAgCjB,OAAhC,EADF,cAEE,aAAK,SAAS,CAAC,gBAAf,wBACE,eAAQ,SAAS,CAAEgB,uBAAnB,CAA4C,IAAI,CAAC,QAAjD,CAA0D,OAAO,CAAEE,eAAnE,EADF,cAEE,UAAG,SAAS,CAAC,uBAAb,UAAsCjB,IAAI,CAACmB,MAA3C,EAFF,GAFF,GAFF,cASE,eAAQ,SAAS,CAAER,yBAAnB,CAA8C,IAAI,CAAC,QAAnD,CAA4D,OAAO,CAAEO,gBAArE,EATF,GADF,CAaD,CAED,cAAetB,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Card ({cardId, src, nameImg, like, onCardClick, onCardLike, ownerId, setConfirmOpen, setConfirmAction, setConfirmObj}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = ownerId === currentUser._id;\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `element__trash ${isOwn ? ' ' : 'element__trash_invisible'}`\n  ); \n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = like.some(i => i._id === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n  `element__like ${isLiked ? 'element__like_type_active' : ' '}`); \n\n  function handleImgClick(){\n    onCardClick({src, nameImg});\n  }\n\n  function handleLikeClick() {\n    // console.log(\"========LIKE=======\");\n    // console.log(like);\n    onCardLike(like, cardId);\n  }\n\n  function handleCardDelete(){\n    // console.log(\"handleCardDelete\");\n    setConfirmOpen();\n    setConfirmAction('cardDelete');\n    setConfirmObj({\n      ownerId: ownerId,\n      cardId: cardId\n    })\n  }\n\n  return (\n    <div className=\"element\">\n      <img src={src} alt={nameImg} className=\"element__img\" onClick={handleImgClick}/>\n      <div className=\"element__name\">\n        <h3 className=\"element__title\">{nameImg}</h3>\n        <div className=\"element__likes\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n          <p className=\"element__like-counter\">{like.length}</p>\n        </div>\n      </div>\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleCardDelete}></button>\n    </div>\n  );\n}\n\nexport default Card;"]},"metadata":{},"sourceType":"module"}