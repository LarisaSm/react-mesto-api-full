{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/lara/Documents/\\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435/\\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435/yaPractik/mesto-react-auth/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Link,withRouter,useHistory}from\"react-router-dom\";import AuthForm from\"./AuthForm\";import*as Auth from\"./Auth\";function Register(_ref){var setInfoTooltipOpen=_ref.setInfoTooltipOpen,setConfirmAuth=_ref.setConfirmAuth;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),inputEmailValue=_React$useState2[0],setInputEmailValue=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),inputPassValue=_React$useState4[0],setInputPassValue=_React$useState4[1];var history=useHistory();function handleSubmit(e){e.preventDefault();// setInfoTooltipOpen(true);\nAuth.register(inputPassValue,inputEmailValue).then(function(data){console.log(data);try{if(data.data._id){setConfirmAuth(true);history.push(\"/sign-in\");}}catch(e){setConfirmAuth(false);}setInfoTooltipOpen(true);});}function handleEmailChange(evt){setInputEmailValue(evt.target.value);}function handlePassChange(evt){setInputPassValue(evt.target.value);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(AuthForm,{button:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\",title:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",formId:\"auth\",onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsx(\"input\",{id:\"email-input\",type:\"email\",className:\"auth__input\",autoComplete:\"off\",placeholder:\"Email\",name:\"email\",value:inputEmailValue,onChange:handleEmailChange,required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"email-input-error\",className:\"auth__input-error\"}),/*#__PURE__*/_jsx(\"input\",{id:\"pass-input\",type:\"password\",className:\"auth__input\",autoComplete:\"new-password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",name:\"pass\",value:inputPassValue,minLength:\"2\",maxLength:\"200\",required:true,onChange:handlePassChange}),/*#__PURE__*/_jsx(\"span\",{id:\"pass-input-error\",className:\"auth-error\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"auth__register-text\",children:[\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B?\",\" \",/*#__PURE__*/_jsx(Link,{className:\"auth__register-link\",to:\"/sign-in\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});}export default withRouter(Register);","map":{"version":3,"sources":["/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react-auth/react-mesto-auth/src/components/Register.js"],"names":["React","Link","withRouter","useHistory","AuthForm","Auth","Register","setInfoTooltipOpen","setConfirmAuth","useState","inputEmailValue","setInputEmailValue","inputPassValue","setInputPassValue","history","handleSubmit","e","preventDefault","register","then","data","console","log","_id","push","handleEmailChange","evt","target","value","handlePassChange"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,UAAf,CAA2BC,UAA3B,KAA6C,kBAA7C,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAO,GAAKC,CAAAA,IAAZ,KAAsB,QAAtB,CAEA,QAASC,CAAAA,QAAT,MAA0D,IAAtCC,CAAAA,kBAAsC,MAAtCA,kBAAsC,CAAlBC,cAAkB,MAAlBA,cAAkB,qBACVR,KAAK,CAACS,QAAN,CAAe,EAAf,CADU,oDACjDC,eADiD,qBAChCC,kBADgC,0CAEZX,KAAK,CAACS,QAAN,CAAe,EAAf,CAFY,qDAEjDG,cAFiD,qBAEjCC,iBAFiC,qBAIxD,GAAMC,CAAAA,OAAO,CAAGX,UAAU,EAA1B,CAEA,QAASY,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvBA,CAAC,CAACC,cAAF,GACA;AACAZ,IAAI,CAACa,QAAL,CAAcN,cAAd,CAA8BF,eAA9B,EAA+CS,IAA/C,CAAoD,SAACC,IAAD,CAAU,CAC5DC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,GAAI,CACF,GAAIA,IAAI,CAACA,IAAL,CAAUG,GAAd,CAAmB,CACjBf,cAAc,CAAC,IAAD,CAAd,CACAM,OAAO,CAACU,IAAR,CAAa,UAAb,EACD,CACF,CAAC,MAAOR,CAAP,CAAU,CACVR,cAAc,CAAC,KAAD,CAAd,CACD,CACDD,kBAAkB,CAAC,IAAD,CAAlB,CACD,CAXD,EAYD,CAED,QAASkB,CAAAA,iBAAT,CAA2BC,GAA3B,CAAgC,CAC9Bf,kBAAkB,CAACe,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAlB,CACD,CAED,QAASC,CAAAA,gBAAT,CAA0BH,GAA1B,CAA+B,CAC7Bb,iBAAiB,CAACa,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAjB,CACD,CAED,mBACE,wCACE,MAAC,QAAD,EACE,MAAM,CAAC,8GADT,CAEE,KAAK,CAAC,oEAFR,CAGE,MAAM,CAAC,MAHT,CAIE,QAAQ,CAAE,kBAACZ,CAAD,QAAOD,CAAAA,YAAY,CAACC,CAAD,CAAnB,EAJZ,wBAME,cACE,EAAE,CAAC,aADL,CAEE,IAAI,CAAC,OAFP,CAGE,SAAS,CAAC,aAHZ,CAIE,YAAY,CAAC,KAJf,CAKE,WAAW,CAAC,OALd,CAME,IAAI,CAAC,OANP,CAOE,KAAK,CAAEN,eAPT,CAQE,QAAQ,CAAEe,iBARZ,CASE,QAAQ,KATV,EANF,cAiBE,aAAM,EAAE,CAAC,mBAAT,CAA6B,SAAS,CAAC,mBAAvC,EAjBF,cAkBE,cACE,EAAE,CAAC,YADL,CAEE,IAAI,CAAC,UAFP,CAGE,SAAS,CAAC,aAHZ,CAIE,YAAY,CAAC,cAJf,CAKE,WAAW,CAAC,sCALd,CAME,IAAI,CAAC,MANP,CAOE,KAAK,CAAEb,cAPT,CAQE,SAAS,CAAC,GARZ,CASE,SAAS,CAAC,KATZ,CAUE,QAAQ,KAVV,CAWE,QAAQ,CAAEiB,gBAXZ,EAlBF,cA+BE,aAAM,EAAE,CAAC,kBAAT,CAA4B,SAAS,CAAC,YAAtC,EA/BF,GADF,cAkCE,WAAG,SAAS,CAAC,qBAAb,kIACwB,GADxB,cAEE,KAAC,IAAD,EAAM,SAAS,CAAC,qBAAhB,CAAsC,EAAE,CAAC,UAAzC,4CAFF,GAlCF,GADF,CA2CD,CAED,cAAe3B,CAAAA,UAAU,CAACI,QAAD,CAAzB","sourcesContent":["import React from \"react\";\nimport { Link, withRouter, useHistory } from \"react-router-dom\";\nimport AuthForm from \"./AuthForm\";\nimport * as Auth from \"./Auth\";\n\nfunction Register({ setInfoTooltipOpen, setConfirmAuth }) {\n  const [inputEmailValue, setInputEmailValue] = React.useState(\"\");\n  const [inputPassValue, setInputPassValue] = React.useState(\"\");\n\n  const history = useHistory();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    // setInfoTooltipOpen(true);\n    Auth.register(inputPassValue, inputEmailValue).then((data) => {\n      console.log(data);\n      try {\n        if (data.data._id) {\n          setConfirmAuth(true);\n          history.push(\"/sign-in\");\n        }\n      } catch (e) {\n        setConfirmAuth(false);\n      }\n      setInfoTooltipOpen(true);\n    });\n  }\n\n  function handleEmailChange(evt) {\n    setInputEmailValue(evt.target.value);\n  }\n\n  function handlePassChange(evt) {\n    setInputPassValue(evt.target.value);\n  }\n\n  return (\n    <>\n      <AuthForm\n        button=\"Зарегистрироваться\"\n        title=\"Регистрация\"\n        formId=\"auth\"\n        onSubmit={(e) => handleSubmit(e)}\n      >\n        <input\n          id=\"email-input\"\n          type=\"email\"\n          className=\"auth__input\"\n          autoComplete=\"off\"\n          placeholder=\"Email\"\n          name=\"email\"\n          value={inputEmailValue}\n          onChange={handleEmailChange}\n          required\n        />\n        <span id=\"email-input-error\" className=\"auth__input-error\"></span>\n        <input\n          id=\"pass-input\"\n          type=\"password\"\n          className=\"auth__input\"\n          autoComplete=\"new-password\"\n          placeholder=\"Пароль\"\n          name=\"pass\"\n          value={inputPassValue}\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n          onChange={handlePassChange}\n        />\n        <span id=\"pass-input-error\" className=\"auth-error\"></span>\n      </AuthForm>\n      <p className=\"auth__register-text\">\n        Уже зарегистрированы?{\" \"}\n        <Link className=\"auth__register-link\" to=\"/sign-in\">\n          Войти\n        </Link>\n      </p>\n    </>\n  );\n}\n\nexport default withRouter(Register);\n"]},"metadata":{},"sourceType":"module"}