{"ast":null,"code":"import _classCallCheck from\"/Users/lara/Documents/\\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435/\\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435/yaPractik/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lara/Documents/\\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435/\\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435/yaPractik/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(config){_classCallCheck(this,Api);this._url=config.url;this._headers=config.headers;}_createClass(Api,[{key:\"getInitialCards\",value:function getInitialCards(){var _this=this;return fetch(this._url+'cards',{headers:this._headers}).then(function(res){return _this._returnData(res);});}},{key:\"addNewCard\",value:function addNewCard(name,link){var _this2=this;return fetch(this._url+'cards',{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(function(res){return _this2._returnData(res);});}},{key:\"editUserInfo\",value:function editUserInfo(name,about){var _this3=this;return fetch(this._url+'users/me',{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(function(res){return _this3._returnData(res);});}},{key:\"getUserInfo\",value:function getUserInfo(){var _this4=this;return fetch(this._url+'users/me',{headers:this._headers}).then(function(res){return _this4._returnData(res);});}},{key:\"deleteCard\",value:function deleteCard(id){var _this5=this;return fetch(this._url+\"cards/\".concat(id),{method:\"DELETE\",headers:this._headers}).then(function(res){return _this5._returnData(res);});}},{key:\"likeCard\",value:function likeCard(id){var _this6=this;return fetch(this._url+\"cards/likes/\".concat(id),{method:\"PUT\",headers:this._headers}).then(function(res){return _this6._returnData(res);});}},{key:\"deleteLikeCard\",value:function deleteLikeCard(id){var _this7=this;return fetch(this._url+\"cards/likes/\".concat(id),{method:\"DELETE\",headers:this._headers}).then(function(res){return _this7._returnData(res);});}},{key:\"getLikesCard\",value:function getLikesCard(id){var _this8=this;return fetch(this._url+\"cards/likes/\".concat(id),{method:\"GET\",headers:this._headers}).then(function(res){return _this8._returnData(res);});}},{key:\"setUserAvatar\",value:function setUserAvatar(avatar){var _this9=this;return fetch(this._url+'users/me/avatar',{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(function(res){return _this9._returnData(res);});}},{key:\"_returnData\",value:function _returnData(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}}]);return Api;}();var api=new Api({url:\"https://mesto.nomoreparties.co/v1/cohort-20/\",headers:{authorization:'4b126959-9593-4c1c-9c1d-30d3e8eeddbf',\"content-type\":\"application/json\"}});export default api;","map":{"version":3,"sources":["/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/utils/Api.js"],"names":["Api","config","_url","url","_headers","headers","fetch","then","res","_returnData","name","link","method","body","JSON","stringify","about","id","avatar","ok","json","Promise","reject","status","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor (config) {\n      this._url = config.url;\n      this._headers = config.headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._url + 'cards', {\n      headers: this._headers,\n  })\n      .then(res => this._returnData(res));\n  } \n\n  addNewCard (name, link) {\n    return fetch(this._url + 'cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link \n      })\n    })\n    .then((res) => this._returnData(res));\n}\n\n  editUserInfo (name, about) {\n    return fetch(this._url + 'users/me', {\n    method: 'PATCH',\n    headers: this._headers,\n    body: JSON.stringify({\n      name: name,\n      about: about \n    })\n  })\n  .then((res) => this._returnData(res));\n}\n  \n  getUserInfo () {\n    return fetch(this._url + 'users/me', {\n        headers: this._headers\n      })\n      .then((res) => this._returnData(res));\n    }\n\n\n  deleteCard(id) {\n      return fetch(this._url + `cards/${id}`, {\n          method: \"DELETE\",\n          headers: this._headers,\n      }).then((res) => this._returnData(res))\n  }\n\n\n  likeCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: this._headers,\n  }).then((res) => this._returnData(res))\n  }\n\n  deleteLikeCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n  }).then((res) => this._returnData(res))\n  }\n\n  getLikesCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"GET\",\n      headers: this._headers,\n  }).then((res) => this._returnData(res))\n  }\n\n  setUserAvatar(avatar) {\n    return fetch(this._url + 'users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar \n      })\n    })\n    .then((res) => this._returnData(res));\n  }\n\n_returnData (res) {\n  if (res.ok) {\n    return res.json();\n  }\n\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-20/\",\n  headers: {\n\t\tauthorization: '4b126959-9593-4c1c-9c1d-30d3e8eeddbf',\n    \"content-type\": \"application/json\",\n  }\n}); \n\nexport default api;"]},"metadata":{},"sourceType":"module"}