{"ast":null,"code":"// import React from \"react\";\n// import CurrentUserContext from \"../contexts/CurrentUserContext\";\n// class Api {\n//   constructor (config) {\n//       URL = config.url;\n//       this._headers = config.headers;\n//   }\nconst URL = \"http://localhost:3005/\";\nexport function getInitialCards(headers) {\n  console.log(\"getInitCards\");\n  console.log(headers);\n  return fetch(URL + 'cards', {\n    headers: headers\n  }).then(res => returnData(res));\n}\nexport function addNewCard(name, link, headers) {\n  console.log(\"addNewCard\");\n  console.log(name);\n  return fetch(URL + 'cards', {\n    method: 'POST',\n    headers: {\n      headers,\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      name: name,\n      link: link\n    })\n  }).then(res => {\n    console.log(res);\n    returnData(res);\n  });\n}\nexport function editUserInfo(name, about, headers) {\n  return fetch(URL + 'users/me', {\n    method: 'PATCH',\n    headers: headers,\n    body: JSON.stringify({\n      name: name,\n      about: about\n    })\n  }).then(res => returnData(res));\n}\nexport function getUserInfo(headers) {\n  console.log(headers);\n  return fetch(URL + 'users/me', {\n    headers: headers\n  }).then(res => returnData(res));\n}\nexport function deleteCard(id, headers) {\n  return fetch(URL + `cards/${id}`, {\n    method: \"DELETE\",\n    headers: headers\n  }).then(res => returnData(res));\n}\nexport function likeCard(id, headers) {\n  return fetch(URL + `cards/likes/${id}`, {\n    method: \"PUT\",\n    headers: headers\n  }).then(res => returnData(res));\n}\nexport function deleteLikeCard(id, headers) {\n  return fetch(URL + `cards/likes/${id}`, {\n    method: \"DELETE\",\n    headers: headers\n  }).then(res => returnData(res));\n}\nexport function getLikesCard(id, headers) {\n  return fetch(URL + `cards/likes/${id}`, {\n    method: \"GET\",\n    headers: headers\n  }).then(res => returnData(res));\n}\nexport function setUserAvatar(avatar, headers) {\n  return fetch(URL + 'users/me/avatar', {\n    method: 'PATCH',\n    headers: headers,\n    body: JSON.stringify({\n      avatar: avatar\n    })\n  }).then(res => returnData(res));\n}\n\nfunction returnData(res) {\n  if (res.ok) {\n    return res.json();\n  }\n\n  return Promise.reject(`Ошибка: ${res.status}`);\n} // const api = new Api({\n//   url: \"https://mesto.nomoreparties.co/v1/cohort-20/\",\n//   headers: {\n// \t\tauthorization: '4b126959-9593-4c1c-9c1d-30d3e8eeddbf',\n//     \"content-type\": \"application/json\",\n//   }\n// }); \n// const api = new Api({\n//   url: \"http://localhost:3005/\",\n//   headers: {\n//         \"content-type\": \"application/json\"\n//       }\n// });","map":{"version":3,"sources":["/Users/lara/Documents/обучение/программирование/yaPractik/mesto-all/frontend/src/utils/api.js"],"names":["URL","getInitialCards","headers","console","log","fetch","then","res","returnData","addNewCard","name","link","method","body","JSON","stringify","editUserInfo","about","getUserInfo","deleteCard","id","likeCard","deleteLikeCard","getLikesCard","setUserAvatar","avatar","ok","json","Promise","reject","status"],"mappings":"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","sourcesContent":["// import React from \"react\";\n\n// import CurrentUserContext from \"../contexts/CurrentUserContext\";\n\n// class Api {\n//   constructor (config) {\n//       URL = config.url;\n//       this._headers = config.headers;\n//   }\n\nconst URL = \"http://localhost:3005/\";\n\nexport function getInitialCards(headers) {\n    console.log(\"getInitCards\");\n    console.log(headers);\n    return fetch(URL + 'cards', {\n      headers: \n        headers,\n\n  })\n      .then(res => returnData(res));\n  } \n\n  export function addNewCard (name, link, headers) {\n    console.log(\"addNewCard\");\n    console.log(name);\n    return fetch(URL + 'cards', {\n      method: 'POST',\n      headers: {\n        headers,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link \n      })\n    })\n    .then((res) => {\n      console.log(res);\n      returnData(res)});\n}\n\nexport function editUserInfo (name, about, headers) {\n    return fetch(URL + 'users/me', {\n    method: 'PATCH',\n    headers: headers,\n    body: JSON.stringify({\n      name: name,\n      about: about \n    })\n  })\n  .then((res) => returnData(res));\n}\n  \nexport function getUserInfo (headers) {\n    console.log(headers);\n    return fetch(URL + 'users/me', {\n        headers: headers\n      })\n      .then((res) => returnData(res));\n    }\n\n\n    export function deleteCard(id, headers) {\n      return fetch(URL + `cards/${id}`, {\n          method: \"DELETE\",\n          headers: headers,\n      }).then((res) => returnData(res))\n  }\n\n\n  export  function likeCard(id,headers) {\n    return fetch(URL + `cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: headers,\n  }).then((res) => returnData(res))\n  }\n\n  export function deleteLikeCard(id, headers) {\n    return fetch(URL + `cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: headers,\n  }).then((res) => returnData(res))\n  }\n\n  export function getLikesCard(id, headers) {\n    return fetch(URL + `cards/likes/${id}`, {\n      method: \"GET\",\n      headers: headers,\n  }).then((res) => returnData(res))\n  }\n\n  export function setUserAvatar(avatar, headers) {\n    return fetch(URL + 'users/me/avatar', {\n      method: 'PATCH',\n      headers: headers,\n      body: JSON.stringify({\n        avatar: avatar \n      })\n    })\n    .then((res) => returnData(res));\n  }\n\nfunction returnData (res) {\n  if (res.ok) {\n    return res.json();\n  }\n\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\n\n\n// const api = new Api({\n//   url: \"https://mesto.nomoreparties.co/v1/cohort-20/\",\n//   headers: {\n// \t\tauthorization: '4b126959-9593-4c1c-9c1d-30d3e8eeddbf',\n//     \"content-type\": \"application/json\",\n//   }\n// }); \n\n// const api = new Api({\n//   url: \"http://localhost:3005/\",\n//   headers: {\n//         \"content-type\": \"application/json\"\n//       }\n// }); "]},"metadata":{},"sourceType":"module"}