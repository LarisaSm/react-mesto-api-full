{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/lara/Documents/\\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435/\\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435/yaPractik/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Api from'../utils/Api';import Card from'./Card';import Spinner from'./Spinner';function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),isLoading=_React$useState10[0],setIsLoading=_React$useState10[1];React.useEffect(function(){Api.getUserInfo().then(function(res){setUserName(res.name);setUserDescription(res.about);setUserAvatar(res.avatar);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});},[]);React.useEffect(function(){setIsLoading(true);Api.getInitialCards().then(function(res){setCards(res.map(function(item){return{src:item.link,nameImg:item.name,like:item.likes.length,cardId:item._id};}));setIsLoading(false);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"main page__main\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile main__profile\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"\",className:\"profile__avatar-edit\",onClick:onEditAvatar,children:/*#__PURE__*/_jsx(\"img\",{src:userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\",className:\"profile__avatar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__name\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"profile__name-title\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button profile__button_type_edit\",type:\"button\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__about\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button profile__button_type_add \",type:\"button\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements main__elements\",children:isLoading?/*#__PURE__*/_jsx(Spinner,{}):cards.map(function(_ref2){var cardId=_ref2.cardId,src=_ref2.src,nameImg=_ref2.nameImg,like=_ref2.like;return/*#__PURE__*/_jsx(Card,{src:src,nameImg:nameImg,like:like,cardId:cardId,onCardClick:onCardClick},cardId);})})]});}export default Main;","map":{"version":3,"sources":["/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/Components/Main.js"],"names":["React","Api","Card","Spinner","Main","onEditProfile","onAddPlace","onEditAvatar","onCardClick","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","isLoading","setIsLoading","useEffect","getUserInfo","then","res","name","about","avatar","catch","err","console","log","getInitialCards","map","item","src","link","nameImg","like","likes","length","cardId","_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Api from '../utils/Api';\nimport Card from './Card';\nimport Spinner from './Spinner';\n\n\n\nfunction Main ({onEditProfile, onAddPlace, onEditAvatar, onCardClick}) {\n  const [userName, setUserName] = React.useState([]); \n  const [userDescription, setUserDescription] = React.useState([]); \n  const [userAvatar, setUserAvatar] = React.useState([]); \n  const [cards, setCards] = React.useState([]); \n  const [isLoading, setIsLoading] = React.useState(false);\n\n  \n\n  React.useEffect(() => {\n    Api.getUserInfo().then((res) => {\n      setUserName(res.name);\n      setUserDescription(res.about);\n      setUserAvatar(res.avatar);\n    })\n    .catch((err) => {\n      console.log(err); // выведем ошибку в консоль\n    });\n  }, []);\n\n\nReact.useEffect(() => {\n  setIsLoading(true);\n  Api.getInitialCards()\n  .then((res) => {\n    setCards(res.map((item) => ({\n      src: item.link,\n      nameImg: item.name,\n      like: item.likes.length,\n      cardId: item._id\n    })));\n    setIsLoading(false);\n  })\n  .catch((err) => {\n    console.log(err); // выведем ошибку в консоль\n  });\n}, [])\n\n return ( \n <main className=\"main page__main\">\n  <section className=\"profile main__profile\">\n    <a href=\"\" className=\"profile__avatar-edit\" onClick={onEditAvatar}>\n      <img\n        src={userAvatar}\n        alt=\"Аватар\"\n        className=\"profile__avatar\"\n      />\n    </a>\n    <div className=\"profile__info\">\n      <div className=\"profile__name\">\n        <p className=\"profile__name-title\">{userName}</p>\n        <button\n          className=\"profile__button profile__button_type_edit\"\n          type=\"button\"\n          onClick={onEditProfile}\n        ></button>\n      </div>\n      <p className=\"profile__about\">{userDescription}</p>\n    </div>\n    <button\n      className=\"profile__button profile__button_type_add \"\n      type=\"button\"\n      onClick={onAddPlace}\n    ></button>\n  </section>\n \n        <section className=\"elements main__elements\">\n     \n        {\n            isLoading ? <Spinner /> : cards.map(({cardId, src, nameImg, like}) => {return <Card key={cardId} src={src} nameImg={nameImg} like={like} cardId={cardId} onCardClick={onCardClick}/>}) \n        }                \n        </section>\n        \n</main>)\n}\n\n\nexport default Main;\n\n"]},"metadata":{},"sourceType":"module"}