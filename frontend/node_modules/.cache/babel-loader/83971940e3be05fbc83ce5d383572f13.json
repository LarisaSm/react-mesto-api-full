{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/Users/lara/Documents/\\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435/\\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435/yaPractik/mesto-react-auth/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/lara/Documents/\\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435/\\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435/yaPractik/mesto-react-auth/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import ImagePopup from\"./ImagePopup\";import Confirm from\"./Confirm\";import api from\"../utils/api\";import Login from\"./Login\";import Register from\"./Register\";import ProtectedRoute from\"./ProtectedRoute\";import PageNotFound from\"./PageNotFound\";import*as auth from\"../utils/auth\";import InfoTooltip from\"./InfoTooltip\";import{Route,Switch,useHistory}from\"react-router-dom\";import Header from\"./Header\";import Footer from\"./Footer\";import Main from\"./Main\";import EditProfilePopup from\"./EditProfilePopup\";import EditAvatarPopup from\"./EditAvatarPopup\";import AddPlacePopup from\"./AddPlacePopup\";import CurrentUserContext from\"../contexts/CurrentUserContext\";function App(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isEditProfilePopupOpen=_React$useState2[0],setEditProfilePopupState=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isEditAvatarPopupOpen=_React$useState4[0],setEditAvatarPopupState=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isAddPlacePopupOpen=_React$useState6[0],setAddPlacerPopupState=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),isImagePopupOpen=_React$useState8[0],setImagePopupState=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),isConfirmOpen=_React$useState10[0],setConfirmOpen=_React$useState10[1];var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),isInfoTooltipOpen=_React$useState12[0],setInfoTooltipOpen=_React$useState12[1];var _React$useState13=React.useState(false),_React$useState14=_slicedToArray(_React$useState13,2),isConfirmAuth=_React$useState14[0],setConfirmAuth=_React$useState14[1];var _React$useState15=React.useState([]),_React$useState16=_slicedToArray(_React$useState15,2),cards=_React$useState16[0],setCards=_React$useState16[1];var _React$useState17=React.useState(false),_React$useState18=_slicedToArray(_React$useState17,2),isLoading=_React$useState18[0],setIsLoading=_React$useState18[1];var _React$useState19=React.useState({src:\"\",nameImg:\"\"}),_React$useState20=_slicedToArray(_React$useState19,2),selectedCard=_React$useState20[0],setSelectedCard=_React$useState20[1];var _React$useState21=React.useState(false),_React$useState22=_slicedToArray(_React$useState21,2),isLoadingConfirm=_React$useState22[0],setIsLoadingConfirm=_React$useState22[1];var _React$useState23=React.useState(false),_React$useState24=_slicedToArray(_React$useState23,2),isLoadingPopup=_React$useState24[0],setIsLoadingPopup=_React$useState24[1];var _React$useState25=React.useState({name:\"\",about:\"\"}),_React$useState26=_slicedToArray(_React$useState25,2),currentUser=_React$useState26[0],setСurrentUser=_React$useState26[1];var _React$useState27=React.useState({ownerId:\"\",cardId:\"\"}),_React$useState28=_slicedToArray(_React$useState27,2),currentCard=_React$useState28[0],setСurrentCard=_React$useState28[1];var _React$useState29=React.useState({}),_React$useState30=_slicedToArray(_React$useState29,2),userData=_React$useState30[0],setUserData=_React$useState30[1];var _React$useState31=React.useState({}),_React$useState32=_slicedToArray(_React$useState31,2),confirmAction=_React$useState32[0],setConfirmAction=_React$useState32[1];var history=useHistory();var _React$useState33=React.useState(false),_React$useState34=_slicedToArray(_React$useState33,2),loggedIn=_React$useState34[0],setLoggedIn=_React$useState34[1];React.useEffect(function(){api.getUserInfo().then(function(res){setСurrentUser(res);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});},[]);function closeAllPopups(){setEditProfilePopupState(false);setEditAvatarPopupState(false);setAddPlacerPopupState(false);setImagePopupState(false);setInfoTooltipOpen(false);setSelectedCard([]);setIsLoadingPopup(false);setСurrentCard({ownerId:\"\",cardId:\"\"});}function handleCardClick(_ref){var src=_ref.src,nameImg=_ref.nameImg;setSelectedCard({src:src,nameImg:nameImg});setImagePopupState(true);}function handleConfirmClick(){setConfirmOpen(true);}function handleEditProfileClick(evt){evt.preventDefault();setEditProfilePopupState(true);}function handleEditAvatarClick(e){e.preventDefault();setEditAvatarPopupState(true);}function handleAddPlaceClick(evt){evt.preventDefault();setAddPlacerPopupState(true);}function cardDelete(){var isOwn=currentCard.ownerId===currentUser._id;if(isOwn){api.deleteCard(currentCard.cardId).then(function(){var newCards=cards.filter(function(c){return c.cardId!==currentCard.cardId;});setCards(newCards);}).then(function(){setConfirmOpen(false);setIsLoadingConfirm(false);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});}}function handleCardDelete(obj){setConfirmAction(\"cardDelete\");setСurrentCard({ownerId:obj.ownerId,cardId:obj.cardId});}function handleCardLike(like,cardId){// Снова проверяем, есть ли уже лайк на этой карточке\nvar isLiked=like.some(function(i){return i._id===currentUser._id;});// console.log('main -> handleCardLike');\nif(!isLiked){// console.log(\"main -> handleCardLike -> like\")\napi.likeCard(cardId).then(function(newCard){var newCards=cards.map(function(c){return c.cardId===newCard._id?{src:newCard.link,nameImg:newCard.name,like:newCard.likes,cardId:newCard._id,ownerId:newCard.owner._id}:c;});setCards(newCards);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});}else{// console.log(\"main -> handleCardLike -> deleteLike\")\napi.deleteLikeCard(cardId).then(function(newCard){var newCards=cards.map(function(c){return c.cardId===newCard._id?{src:newCard.link,nameImg:newCard.name,like:newCard.likes,cardId:newCard._id,ownerId:newCard.owner._id}:c;});setCards(newCards);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});}}function handleUpdateUser(name,about){setIsLoadingPopup(true);api.editUserInfo(name,about).then(function(res){return setСurrentUser(res);}).then(function(){setIsLoadingPopup(false);setEditProfilePopupState(false);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});}function handleUpdateAvatar(obj){setIsLoadingPopup(true);api.setUserAvatar(obj.avatar).then(function(res){return setСurrentUser(res);}).then(function(){setIsLoadingPopup(false);setEditAvatarPopupState(false);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});}function handleAddPlaceSubmit(obj){setIsLoadingPopup(true);api.addNewCard(obj.name,obj.link).then(function(newCard){newCard.key=newCard._id;newCard.like=newCard.likes;newCard.ownerId=newCard.owner._id;newCard.src=newCard.link;newCard.nameImg=newCard.name;newCard.cardId=newCard._id;setCards([newCard].concat(_toConsumableArray(cards)));}).then(function(){setIsLoadingPopup(false);setAddPlacerPopupState(false);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});}function handleLogin(inputEmailValue,inputPassValue){auth.authorize(inputPassValue,inputEmailValue).then(function(data){if(data.token){setLoggedIn(true);setUserData({email:inputEmailValue});history.push(\"/\");}}).catch(function(err){console.log(err);});}function handleRegister(inputPassValue,inputEmailValue){auth.register(inputPassValue,inputEmailValue).then(function(data){if(data.data._id){setConfirmAuth(true);history.push(\"/sign-in\");}setInfoTooltipOpen(true);}).catch(function(err){console.log(err);setConfirmAuth(false);setInfoTooltipOpen(true);});}function signOut(){localStorage.removeItem(\"jwt\");history.push(\"/sign-in\");}function tokenCheck(){// если у пользователя есть токен в localStorage,\n// эта функция проверит валидность токена\nvar jwt=localStorage.getItem(\"jwt\");if(jwt){// проверим токен\nauth.getContent(jwt).then(function(res){if(res){// авторизуем пользователя\nsetLoggedIn(true);setUserData({email:res.data.email});// обернём App.js в withRouter\n// так, что теперь есть доступ к этому методу\nhistory.push(\"/\");}}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});}}React.useEffect(function(){setIsLoading(true);tokenCheck();api.getInitialCards().then(function(res){setCards(res.map(function(item){return{src:item.link,nameImg:item.name,like:item.likes,cardId:item._id,ownerId:item.owner._id};}));setIsLoading(false);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});},[]);return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{loggedIn:loggedIn,userData:userData,signOut:signOut}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/\",component:Main,loggedIn:loggedIn,cards:cards,onEditProfile:function onEditProfile(e){return handleEditProfileClick(e);},onEditAvatar:function onEditAvatar(e){return handleEditAvatarClick(e);},onAddPlace:function onAddPlace(e){return handleAddPlaceClick(e);},onCardClick:handleCardClick,setConfirmOpen:handleConfirmClick,onCardLike:handleCardLike,onCardDelete:handleCardDelete,isLoading:isLoading}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",children:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",children:/*#__PURE__*/_jsx(Register,{onRegister:handleRegister})}),/*#__PURE__*/_jsx(Route,{path:\"*\",children:/*#__PURE__*/_jsx(PageNotFound,{})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser,isLoadingPopup:isLoadingPopup}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar,isLoadingPopup:isLoadingPopup}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlaceSubmit,isLoadingPopup:isLoadingPopup}),/*#__PURE__*/_jsx(Confirm,{isOpen:isConfirmOpen,setIsOpen:setConfirmOpen,confirmAction:confirmAction,setСurrentUser:setСurrentUser,isLoadingConfirm:isLoadingConfirm,setIsLoadingConfirm:setIsLoadingConfirm,cardDelete:cardDelete}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,isOpen:isImagePopupOpen,onClose:closeAllPopups}),/*#__PURE__*/_jsx(InfoTooltip,{isOpen:isInfoTooltipOpen,onClose:closeAllPopups,isConfirmAuth:isConfirmAuth})]})});}export default App;","map":{"version":3,"sources":["/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react-auth/react-mesto-auth/src/components/App.js"],"names":["React","ImagePopup","Confirm","api","Login","Register","ProtectedRoute","PageNotFound","auth","InfoTooltip","Route","Switch","useHistory","Header","Footer","Main","EditProfilePopup","EditAvatarPopup","AddPlacePopup","CurrentUserContext","App","useState","isEditProfilePopupOpen","setEditProfilePopupState","isEditAvatarPopupOpen","setEditAvatarPopupState","isAddPlacePopupOpen","setAddPlacerPopupState","isImagePopupOpen","setImagePopupState","isConfirmOpen","setConfirmOpen","isInfoTooltipOpen","setInfoTooltipOpen","isConfirmAuth","setConfirmAuth","cards","setCards","isLoading","setIsLoading","src","nameImg","selectedCard","setSelectedCard","isLoadingConfirm","setIsLoadingConfirm","isLoadingPopup","setIsLoadingPopup","name","about","currentUser","setСurrentUser","ownerId","cardId","currentCard","setСurrentCard","userData","setUserData","confirmAction","setConfirmAction","history","loggedIn","setLoggedIn","useEffect","getUserInfo","then","res","catch","err","console","log","closeAllPopups","handleCardClick","handleConfirmClick","handleEditProfileClick","evt","preventDefault","handleEditAvatarClick","e","handleAddPlaceClick","cardDelete","isOwn","_id","deleteCard","newCards","filter","c","handleCardDelete","obj","handleCardLike","like","isLiked","some","i","likeCard","newCard","map","link","likes","owner","deleteLikeCard","handleUpdateUser","editUserInfo","handleUpdateAvatar","setUserAvatar","avatar","handleAddPlaceSubmit","addNewCard","key","handleLogin","inputEmailValue","inputPassValue","authorize","data","token","email","push","handleRegister","register","signOut","localStorage","removeItem","tokenCheck","jwt","getItem","getContent","getInitialCards","item"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ImagePopup from \"./ImagePopup\";\nimport Confirm from \"./Confirm\";\nimport api from \"../utils/api\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport PageNotFound from \"./PageNotFound\";\nimport * as auth from \"../utils/auth\";\nimport InfoTooltip from \"./InfoTooltip\";\n\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupState] = React.useState(\n    false\n  );\n  const [isEditAvatarPopupOpen, setEditAvatarPopupState] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setAddPlacerPopupState] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupState] = React.useState(false);\n  const [isConfirmOpen, setConfirmOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\n  const [isConfirmAuth, setConfirmAuth] = React.useState(false);\n\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    src: \"\",\n    nameImg: \"\",\n  });\n  const [isLoadingConfirm, setIsLoadingConfirm] = React.useState(false);\n  const [isLoadingPopup, setIsLoadingPopup] = React.useState(false);\n\n  const [currentUser, setСurrentUser] = React.useState({ name: \"\", about: \"\" });\n  const [currentCard, setСurrentCard] = React.useState({\n    ownerId: \"\",\n    cardId: \"\",\n  });\n\n  const [userData, setUserData] = React.useState({});\n\n  const [confirmAction, setConfirmAction] = React.useState({});\n\n  const history = useHistory();\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setСurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err); // выведем ошибку в консоль\n      });\n  }, []);\n\n  function closeAllPopups() {\n    setEditProfilePopupState(false);\n    setEditAvatarPopupState(false);\n    setAddPlacerPopupState(false);\n    setImagePopupState(false);\n    setInfoTooltipOpen(false);\n    setSelectedCard([]);\n    setIsLoadingPopup(false);\n    setСurrentCard({\n      ownerId: \"\",\n      cardId: \"\",\n    });\n  }\n\n  function handleCardClick({ src, nameImg }) {\n    setSelectedCard({ src, nameImg });\n    setImagePopupState(true);\n  }\n\n  function handleConfirmClick() {\n    setConfirmOpen(true);\n  }\n\n  function handleEditProfileClick(evt) {\n    evt.preventDefault();\n    setEditProfilePopupState(true);\n  }\n\n  function handleEditAvatarClick(e) {\n    e.preventDefault();\n    setEditAvatarPopupState(true);\n  }\n\n  function handleAddPlaceClick(evt) {\n    evt.preventDefault();\n    setAddPlacerPopupState(true);\n  }\n\n  function cardDelete() {\n    const isOwn = currentCard.ownerId === currentUser._id;\n    if (isOwn) {\n      api\n        .deleteCard(currentCard.cardId)\n        .then(() => {\n          const newCards = cards.filter((c) => c.cardId !== currentCard.cardId);\n          setCards(newCards);\n        })\n        .then(() => {\n          setConfirmOpen(false);\n          setIsLoadingConfirm(false);\n        })\n        .catch((err) => {\n          console.log(err); // выведем ошибку в консоль\n        });\n    }\n  }\n\n  function handleCardDelete(obj) {\n    setConfirmAction(\"cardDelete\");\n    setСurrentCard({\n      ownerId: obj.ownerId,\n      cardId: obj.cardId,\n    });\n  }\n\n  function handleCardLike(like, cardId) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = like.some((i) => i._id === currentUser._id);\n    // console.log('main -> handleCardLike');\n    if (!isLiked) {\n      // console.log(\"main -> handleCardLike -> like\")\n      api\n        .likeCard(cardId)\n        .then((newCard) => {\n          const newCards = cards.map((c) =>\n            c.cardId === newCard._id\n              ? {\n                  src: newCard.link,\n                  nameImg: newCard.name,\n                  like: newCard.likes,\n                  cardId: newCard._id,\n                  ownerId: newCard.owner._id,\n                }\n              : c\n          );\n          setCards(newCards);\n        })\n        .catch((err) => {\n          console.log(err); // выведем ошибку в консоль\n        });\n    } else {\n      // console.log(\"main -> handleCardLike -> deleteLike\")\n      api\n        .deleteLikeCard(cardId)\n        .then((newCard) => {\n          const newCards = cards.map((c) =>\n            c.cardId === newCard._id\n              ? {\n                  src: newCard.link,\n                  nameImg: newCard.name,\n                  like: newCard.likes,\n                  cardId: newCard._id,\n                  ownerId: newCard.owner._id,\n                }\n              : c\n          );\n          setCards(newCards);\n        })\n        .catch((err) => {\n          console.log(err); // выведем ошибку в консоль\n        });\n    }\n  }\n\n  function handleUpdateUser(name, about) {\n    setIsLoadingPopup(true);\n    api\n      .editUserInfo(name, about)\n      .then((res) => setСurrentUser(res))\n      .then(() => {\n        setIsLoadingPopup(false);\n        setEditProfilePopupState(false);\n      })\n      .catch((err) => {\n        console.log(err); // выведем ошибку в консоль\n      });\n  }\n\n  function handleUpdateAvatar(obj) {\n    setIsLoadingPopup(true);\n    api\n      .setUserAvatar(obj.avatar)\n      .then((res) => setСurrentUser(res))\n      .then(() => {\n        setIsLoadingPopup(false);\n        setEditAvatarPopupState(false);\n      })\n      .catch((err) => {\n        console.log(err); // выведем ошибку в консоль\n      });\n  }\n\n  function handleAddPlaceSubmit(obj) {\n    setIsLoadingPopup(true);\n    api\n      .addNewCard(obj.name, obj.link)\n      .then((newCard) => {\n        newCard.key = newCard._id;\n        newCard.like = newCard.likes;\n        newCard.ownerId = newCard.owner._id;\n        newCard.src = newCard.link;\n        newCard.nameImg = newCard.name;\n        newCard.cardId = newCard._id;\n        setCards([newCard, ...cards]);\n      })\n      .then(() => {\n        setIsLoadingPopup(false);\n        setAddPlacerPopupState(false);\n      })\n      .catch((err) => {\n        console.log(err); // выведем ошибку в консоль\n      });\n  }\n\n  function handleLogin(inputEmailValue, inputPassValue) {\n    auth\n      .authorize(inputPassValue, inputEmailValue)\n      .then((data) => {\n        if (data.token) {\n          setLoggedIn(true);\n          setUserData({ email: inputEmailValue });\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleRegister(inputPassValue, inputEmailValue) {\n    auth\n      .register(inputPassValue, inputEmailValue)\n      .then((data) => {\n        if (data.data._id) {\n          setConfirmAuth(true);\n          history.push(\"/sign-in\");\n        }\n        setInfoTooltipOpen(true);\n      })\n      .catch((err) => {\n        console.log(err);\n        setConfirmAuth(false);\n        setInfoTooltipOpen(true);\n      });\n  }\n\n  function signOut() {\n    localStorage.removeItem(\"jwt\");\n    history.push(\"/sign-in\");\n  }\n\n  function tokenCheck() {\n    // если у пользователя есть токен в localStorage,\n    // эта функция проверит валидность токена\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      // проверим токен\n      auth\n        .getContent(jwt)\n        .then((res) => {\n          if (res) {\n            // авторизуем пользователя\n            setLoggedIn(true);\n            setUserData({ email: res.data.email });\n\n            // обернём App.js в withRouter\n            // так, что теперь есть доступ к этому методу\n            history.push(\"/\");\n          }\n        })\n        .catch((err) => {\n          console.log(err); // выведем ошибку в консоль\n        });\n    }\n  }\n\n  React.useEffect(() => {\n    setIsLoading(true);\n    tokenCheck();\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(\n          res.map((item) => ({\n            src: item.link,\n            nameImg: item.name,\n            like: item.likes,\n            cardId: item._id,\n            ownerId: item.owner._id,\n          }))\n        );\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        console.log(err); // выведем ошибку в консоль\n      });\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <Header loggedIn={loggedIn} userData={userData} signOut={signOut} />\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            component={Main}\n            loggedIn={loggedIn}\n            cards={cards}\n            onEditProfile={(e) => handleEditProfileClick(e)}\n            onEditAvatar={(e) => handleEditAvatarClick(e)}\n            onAddPlace={(e) => handleAddPlaceClick(e)}\n            onCardClick={handleCardClick}\n            setConfirmOpen={handleConfirmClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            isLoading={isLoading}\n          />\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLogin} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n          {/* <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route> */}\n          <Route path=\"*\">\n            <PageNotFound />\n          </Route>\n        </Switch>\n\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoadingPopup={isLoadingPopup}\n        ></EditProfilePopup>\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoadingPopup={isLoadingPopup}\n        ></EditAvatarPopup>\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoadingPopup={isLoadingPopup}\n        ></AddPlacePopup>\n\n        <Confirm\n          isOpen={isConfirmOpen}\n          setIsOpen={setConfirmOpen}\n          confirmAction={confirmAction}\n          setСurrentUser={setСurrentUser}\n          isLoadingConfirm={isLoadingConfirm}\n          setIsLoadingConfirm={setIsLoadingConfirm}\n          cardDelete={cardDelete}\n        />\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n        />\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          isConfirmAuth={isConfirmAuth}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}