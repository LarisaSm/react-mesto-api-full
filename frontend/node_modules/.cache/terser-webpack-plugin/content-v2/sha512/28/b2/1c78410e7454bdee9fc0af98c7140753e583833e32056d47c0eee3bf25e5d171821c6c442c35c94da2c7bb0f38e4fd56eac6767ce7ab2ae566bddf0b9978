{"code":"(this[\"webpackJsonpmesto-react\"]=this[\"webpackJsonpmesto-react\"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n(1),i=n.n(r),o=n(6),c=n.n(o),s=(n(15),n(2));var u=function(e){var t=e.card,n=e.isOpen,o=e.onClose,c=t.src,s=t.nameImg,u=Object(r.useCallback)((function(e){e.target===e.currentTarget&&o()}),[o]),l=Object(r.useCallback)((function(e){\"Escape\"===e.key&&o()}),[o]);return i.a.useEffect((function(){if(n){var e=document.querySelector(\".image\");e.classList.add(\"popup_opened\"),document.body.addEventListener(\"keyup\",l),e.addEventListener(\"click\",u)}return function(){var e=document.querySelector(\".image\");e.classList.remove(\"popup_opened\"),document.body.removeEventListener(\"keyup\",l),e.removeEventListener(\"click\",u)}}),[n,u,l]),Object(a.jsx)(\"div\",{className:\"popup image\",children:Object(a.jsxs)(\"div\",{className:\"popup__container image__container\",children:[Object(a.jsx)(\"img\",{src:c,alt:s,className:\"popup__image\"}),Object(a.jsx)(\"p\",{className:\"popup__figcaption-image\",children:s}),Object(a.jsx)(\"button\",{className:\"popup__close\",type:\"button\",onClick:o})]})})},l=n(9),d=n(7),p=n(8),m=new(function(){function e(t){Object(d.a)(this,e),this._url=t.url,this._headers=t.headers}return Object(p.a)(e,[{key:\"getInitialCards\",value:function(){var e=this;return fetch(this._url+\"cards\",{headers:this._headers}).then((function(t){return e._returnData(t)}))}},{key:\"addNewCard\",value:function(e,t){var n=this;return fetch(this._url+\"cards\",{method:\"POST\",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return n._returnData(e)}))}},{key:\"editUserInfo\",value:function(e,t){var n=this;return fetch(this._url+\"users/me\",{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return n._returnData(e)}))}},{key:\"getUserInfo\",value:function(){var e=this;return fetch(this._url+\"users/me\",{headers:this._headers}).then((function(t){return e._returnData(t)}))}},{key:\"deleteCard\",value:function(e){var t=this;return fetch(this._url+\"cards/\".concat(e),{method:\"DELETE\",headers:this._headers}).then((function(e){return t._returnData(e)}))}},{key:\"likeCard\",value:function(e){var t=this;return fetch(this._url+\"cards/likes/\".concat(e),{method:\"PUT\",headers:this._headers}).then((function(e){return t._returnData(e)}))}},{key:\"deleteLikeCard\",value:function(e){var t=this;return fetch(this._url+\"cards/likes/\".concat(e),{method:\"DELETE\",headers:this._headers}).then((function(e){return t._returnData(e)}))}},{key:\"getLikesCard\",value:function(e){var t=this;return fetch(this._url+\"cards/likes/\".concat(e),{method:\"GET\",headers:this._headers}).then((function(e){return t._returnData(e)}))}},{key:\"setUserAvatar\",value:function(e){var t=this;return fetch(this._url+\"users/me/avatar\",{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return t._returnData(e)}))}},{key:\"_returnData\",value:function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e.status))}}]),e}())({url:\"https://mesto.nomoreparties.co/v1/cohort-20/\",headers:{authorization:\"4b126959-9593-4c1c-9c1d-30d3e8eeddbf\",\"content-type\":\"application/json\"}});n(16);var f=function(){return Object(a.jsx)(\"div\",{className:\"Spinner\"})},_=i.a.createContext();var j=function(e){var t=e.isOpen,n=e.setIsOpen,r=e.confirmAction,o=e.confirmObj,c=e.set\\u0421urrentUser,s=e.cards,u=e.setCards,d=e.isLoadingConfirm,p=e.setIsLoadingConfirm,j=i.a.useContext(_);return i.a.useEffect((function(){t&&document.querySelector(\".confirm\").classList.add(\"popup_opened\");return function(){document.querySelector(\".confirm\").classList.remove(\"popup_opened\")}}),[t]),Object(a.jsx)(\"div\",{className:\"confirm popup\",children:Object(a.jsxs)(\"div\",{className:\"popup__container confirm__container\",children:[Object(a.jsx)(\"h2\",{className:\"popup__header\",children:\"\\u0412\\u044b \\u0443\\u0432\\u0435\\u0440\\u0435\\u043d\\u044b?\"}),Object(a.jsx)(\"button\",{className:\"popup__save\",type:\"button\",onClick:function(){switch(p(!0),r){case\"addNewCard\":m.addNewCard(o.name,o.link).then((function(e){e.key=e._id,e.like=e.likes,e.ownerId=e.owner._id,e.src=e.link,e.nameImg=e.name,e.cardId=e._id,u([e].concat(Object(l.a)(s)))})).then((function(){n(!1)})).catch((function(e){console.log(e)}));break;case\"cardDelete\":o.ownerId===j._id&&m.deleteCard(o.cardId).then((function(){var e=s.filter((function(e){return e.cardId!==o.cardId}));u(e)})).then((function(){n(!1)})).catch((function(e){console.log(e)}));break;case\"editUserAvatar\":m.setUserAvatar(o.avatar).then((function(e){return c(e)})).then((function(){n(!1)})).catch((function(e){console.log(e)}));break;case\"editUserInfo\":m.editUserInfo(o.name,o.about).then((function(e){return c(e)})).then((function(){n(!1)})).catch((function(e){console.log(e)}))}},children:\"\\u0414\\u0430\"}),d?Object(a.jsx)(f,{}):\"\",Object(a.jsx)(\"button\",{className:\"popup__close\",type:\"button\",onClick:function(e){e.preventDefault(),n(!1)}})]})})},h=n.p+\"static/media/header__logo.a307e1c4.svg\";var b=function(){return Object(a.jsx)(\"header\",{className:\"header page__header\",children:Object(a.jsx)(\"img\",{src:h,alt:\"\\u041c\\u0435\\u0441\\u0442\\u043e\",className:\"header__logo\"})})};var O=function(){return Object(a.jsx)(\"footer\",{className:\"footer page__footer\",children:\"\\xa9 2020 Mesto Russia\"})};var v=function(e){var t=e.cardId,n=e.src,r=e.nameImg,o=e.like,c=e.onCardClick,s=e.onCardLike,u=e.ownerId,l=e.setConfirmOpen,d=e.setConfirmAction,p=e.setConfirmObj,m=i.a.useContext(_),f=u===m._id,j=\"element__trash \".concat(f?\" \":\"element__trash_invisible\"),h=o.some((function(e){return e._id===m._id})),b=\"element__like \".concat(h?\"element__like_type_active\":\" \");return Object(a.jsxs)(\"div\",{className:\"element\",children:[Object(a.jsx)(\"img\",{src:n,alt:r,className:\"element__img\",onClick:function(){c({src:n,nameImg:r})}}),Object(a.jsxs)(\"div\",{className:\"element__name\",children:[Object(a.jsx)(\"h3\",{className:\"element__title\",children:r}),Object(a.jsxs)(\"div\",{className:\"element__likes\",children:[Object(a.jsx)(\"button\",{className:b,type:\"button\",onClick:function(){s(o,t)}}),Object(a.jsx)(\"p\",{className:\"element__like-counter\",children:o.length})]})]}),Object(a.jsx)(\"button\",{className:j,type:\"button\",onClick:function(){l(),d(\"cardDelete\"),p({ownerId:u,cardId:t})}})]})};var C=function(e){var t=e.cards,n=e.onCardLike,r=e.onEditProfile,o=e.onAddPlace,c=e.onEditAvatar,s=e.onCardClick,u=e.setConfirmOpen,l=e.setConfirmAction,d=e.setConfirmObj,p=e.isLoading,m=i.a.useContext(_);return Object(a.jsxs)(\"main\",{className:\"main page__main\",children:[Object(a.jsxs)(\"section\",{className:\"profile main__profile\",children:[Object(a.jsx)(\"a\",{href:\"/#\",className:\"profile__avatar-edit\",onClick:c,children:Object(a.jsx)(\"img\",{src:m.avatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\",className:\"profile__avatar\"})}),Object(a.jsxs)(\"div\",{className:\"profile__info\",children:[Object(a.jsxs)(\"div\",{className:\"profile__name\",children:[Object(a.jsx)(\"p\",{className:\"profile__name-title\",children:m.name}),Object(a.jsx)(\"button\",{className:\"profile__button profile__button_type_edit\",type:\"button\",onClick:r})]}),Object(a.jsx)(\"p\",{className:\"profile__about\",children:m.about})]}),Object(a.jsx)(\"button\",{className:\"profile__button profile__button_type_add \",type:\"button\",onClick:o})]}),Object(a.jsx)(\"section\",{className:\"elements main__elements\",children:p?Object(a.jsx)(f,{}):t.map((function(e){var t=e.cardId,r=e.src,i=e.nameImg,o=e.like,c=e.ownerId;return Object(a.jsx)(v,{ownerId:c,src:r,nameImg:i,like:o,cardId:t,onCardClick:s,onCardLike:n,setConfirmOpen:u,setConfirmAction:l,setConfirmObj:d},t)}))})]})};var g=function(e){var t=e.formId,n=e.isOpen,o=e.title,c=e.children,s=e.onClose,u=e.button,l=e.setConfirmOpen,d=e.confirmAction,p=(e.onSubmit,Object(r.useCallback)((function(e){e.target===e.currentTarget&&s()}),[s])),m=Object(r.useCallback)((function(e){\"Escape\"===e.key&&s()}),[s]);return i.a.useEffect((function(){if(n){var e=document.querySelector(\".\".concat(t));e.classList.add(\"popup_opened\"),document.body.addEventListener(\"keyup\",m),e.addEventListener(\"click\",p)}return function(){var e=document.querySelector(\".\".concat(t));e.classList.remove(\"popup_opened\"),document.body.removeEventListener(\"keyup\",m),e.removeEventListener(\"click\",p)}}),[n,t,p,m]),Object(a.jsx)(\"div\",{className:\"popup \".concat(t),children:Object(a.jsxs)(\"form\",{className:\"form popup__container\",name:t,onSubmit:function(e){e.preventDefault(),l(),d(),s()},noValidate:!0,children:[Object(a.jsx)(\"h2\",{className:\"popup__title\",children:o}),c,Object(a.jsx)(\"button\",{className:\"popup__save\",type:\"submit\",children:u}),Object(a.jsx)(\"button\",{className:\"popup__close\",type:\"button\",onClick:function(e){e.preventDefault(),s()}})]})})};var k=function(e){var t=e.isOpen,n=e.onClose,r=e.setConfirmOpen,o=e.setConfirmAction,c=e.setConfirmObj,u=i.a.useState(\"\"),l=Object(s.a)(u,2),d=l[0],p=l[1],m=i.a.useState(\"\"),f=Object(s.a)(m,2),j=f[0],h=f[1],b=i.a.useContext(_);return i.a.useEffect((function(){p(b.about),h(b.name)}),[b]),Object(a.jsx)(g,{button:\"\\u0421\\u043e\\u0445\\u0440\\u0430\\u043d\\u0438\\u0442\\u044c\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u043f\\u0440\\u043e\\u0444\\u0438\\u043b\\u044c\",formId:\"edit-user\",isOpen:t,onClose:n,setConfirmOpen:r,confirmAction:function(){return e=j,t=d,o(\"editUserInfo\"),void c({name:e,about:t});var e,t},setConfirmAction:o,children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(\"input\",{id:\"name-input\",type:\"text\",className:\"popup__input popup__input_type_name\",autoComplete:\"off\",placeholder:\"\\u0418\\u043c\\u044f\",name:\"name\",minLength:\"2\",maxLength:\"40\",value:j,onChange:function(e){h(e.target.value)},required:!0}),Object(a.jsx)(\"span\",{id:\"name-input-error\",className:\"popup__input-error\"}),Object(a.jsx)(\"input\",{id:\"about-input\",type:\"text\",className:\"popup__input popup__input_type_about\",autoComplete:\"off\",placeholder:\"\\u041e \\u0441\\u0435\\u0431\\u0435\",name:\"about\",value:d,minLength:\"2\",maxLength:\"200\",required:!0,onChange:function(e){p(e.target.value)}}),Object(a.jsx)(\"span\",{id:\"about-input-error\",className:\"popup__input-error\"})]})})};var x=function(e){var t=e.isOpen,n=e.onClose,r=e.setConfirmOpen,o=e.setConfirmAction,c=e.setConfirmObj,s=i.a.useRef();return Object(a.jsx)(g,{button:\"\\u0421\\u043e\\u0445\\u0440\\u0430\\u043d\\u0438\\u0442\\u044c\",title:\"\\u041e\\u0431\\u043d\\u043e\\u0432\\u0438\\u0442\\u044c \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",formId:\"edit-user-avatar\",isOpen:t,onClose:n,setConfirmOpen:r,confirmAction:function(){o(\"editUserAvatar\"),c({avatar:s.current.value})},setConfirmAction:o,children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(\"input\",{id:\"avatar-input\",type:\"url\",className:\"popup__input popup__input_type_name\",autoComplete:\"off\",placeholder:\"\\u0421\\u0441\\u044b\\u043b\\u043a\\u0430 \\u043d\\u0430 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",name:\"name\",ref:s,minLength:\"2\",maxLength:\"200\",required:!0}),Object(a.jsx)(\"span\",{id:\"avatar-input-error\",className:\"popup__input-error\"})]})})};var y=function(e){var t=e.isOpen,n=e.onClose,r=e.setConfirmOpen,o=e.setConfirmAction,c=e.setConfirmObj,u=i.a.useState([]),l=Object(s.a)(u,2),d=l[0],p=l[1],m=i.a.useState([]),f=Object(s.a)(m,2),_=f[0],j=f[1];return Object(a.jsx)(g,{button:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c\",title:\"\\u041d\\u043e\\u0432\\u043e\\u0435 \\u043c\\u0435\\u0441\\u0442\\u043e\",formId:\"add-card\",isOpen:t,onClose:n,setConfirmOpen:r,confirmAction:function(){return e=d,t=_,o(\"addNewCard\"),void c({name:e,link:t});var e,t},setConfirmAction:o,children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(\"input\",{id:\"name-input\",type:\"text\",className:\"popup__input popup__input_type_name\",autoComplete:\"off\",placeholder:\"\\u041d\\u0430\\u0437\\u0432\\u0430\\u043d\\u0438\\u0435\",name:\"name\",value:d,onChange:function(e){p(e.target.value)},minLength:\"2\",maxLength:\"30\",required:!0}),Object(a.jsx)(\"span\",{id:\"name-input-error\",className:\"popup__input-error\"}),Object(a.jsx)(\"input\",{id:\"url-input\",type:\"url\",className:\"popup__input popup__input_type_about\",autoComplete:\"off\",placeholder:\"\\u0421\\u0441\\u044b\\u043b\\u043a\\u0430 \\u043d\\u0430 \\u043a\\u0430\\u0440\\u0442\\u0438\\u043d\\u043a\\u0443\",value:_,onChange:function(e){j(e.target.value)},name:\"link\",required:!0}),Object(a.jsx)(\"span\",{id:\"url-input-error\",className:\"popup__input-error\"})]})})};var N=function(){var e=i.a.useState(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],o=i.a.useState(!1),c=Object(s.a)(o,2),l=c[0],d=c[1],p=i.a.useState(!1),f=Object(s.a)(p,2),h=f[0],v=f[1],g=i.a.useState(!1),N=Object(s.a)(g,2),I=N[0],L=N[1],S=i.a.useState(!1),A=Object(s.a)(S,2),E=A[0],w=A[1],D=i.a.useState([{src:\"\",nameImg:\"\",like:[\"\"],cardId:\"\",ownerId:\"\"}]),U=Object(s.a)(D,2),P=U[0],q=U[1],T=i.a.useState(!1),F=Object(s.a)(T,2),J=F[0],B=F[1],H=i.a.useState({src:\"\",nameImg:\"\"}),M=Object(s.a)(H,2),R=M[0],z=M[1],G=i.a.useState(!1),V=Object(s.a)(G,2),K=V[0],Q=V[1],W=i.a.useState({name:\"\",about:\"\"}),X=Object(s.a)(W,2),Y=X[0],Z=X[1],$=i.a.useState(\"\"),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],ae=i.a.useState({name:\"\",about:\"\"}),re=Object(s.a)(ae,2),ie=re[0],oe=re[1];function ce(){r(!1),d(!1),v(!1),L(!1),z([])}function se(){w(!0)}return i.a.useEffect((function(){m.getUserInfo().then((function(e){Z(e)})).catch((function(e){console.log(e)}))}),[]),i.a.useEffect((function(){B(!0),m.getInitialCards().then((function(e){q(e.map((function(e){return{src:e.link,nameImg:e.name,like:e.likes,cardId:e._id,ownerId:e.owner._id}}))),B(!1)})).catch((function(e){console.log(e)}))}),[]),Object(a.jsx)(_.Provider,{value:Y,children:Object(a.jsxs)(\"div\",{className:\"App\",children:[Object(a.jsx)(b,{}),Object(a.jsx)(C,{cards:P,onEditProfile:function(e){return e.preventDefault(),void r(!0)},onEditAvatar:function(e){return function(e){e.preventDefault(),d(!0)}(e)},onAddPlace:function(e){return e.preventDefault(),void v(!0)},onCardClick:function(e){var t=e.src,n=e.nameImg;z({src:t,nameImg:n}),L(!0)},setConfirmOpen:se,setConfirmAction:ne,setConfirmObj:oe,onCardLike:function(e,t){e.some((function(e){return e._id===Y._id}))?m.deleteLikeCard(t).then((function(e){var t=P.map((function(t){return t.cardId===e._id?{src:e.link,nameImg:e.name,like:e.likes,cardId:e._id,ownerId:e.owner._id}:t}));q(t)})):m.likeCard(t).then((function(e){var t=P.map((function(t){return t.cardId===e._id?{src:e.link,nameImg:e.name,like:e.likes,cardId:e._id,ownerId:e.owner._id}:t}));q(t)}))},isLoading:J}),Object(a.jsx)(O,{}),Object(a.jsx)(k,{isOpen:n,onClose:ce,setConfirmOpen:se,setConfirmAction:ne,setConfirmObj:oe}),Object(a.jsx)(x,{isOpen:l,onClose:ce,setConfirmOpen:se,setConfirmAction:ne,setConfirmObj:oe}),Object(a.jsx)(y,{isOpen:h,onClose:ce,setConfirmOpen:se,setConfirmAction:ne,setConfirmObj:oe}),Object(a.jsx)(j,{isOpen:E,setIsOpen:w,confirmAction:te,confirmObj:ie,\"set\\u0421urrentUser\":Z,cards:P,setCards:q,isLoadingConfirm:K,setIsLoadingConfirm:Q}),Object(a.jsx)(u,{card:R,isOpen:I,onClose:ce})]})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};c.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(N,{})}),document.getElementById(\"root\")),I()}},[[17,1,2]]]);","name":"static/js/main.0370e8f1.chunk.js","map":{"version":3,"sources":["static/js/main.0370e8f1.chunk.js"],"names":["this","push","15","module","exports","__webpack_require__","16","17","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","slicedToArray","components_ImagePopup","_ref","card","isOpen","onClose","src","nameImg","closeByOverlay","Object","evt","target","currentTarget","handleEscClose","key","a","useEffect","Popup","document","querySelector","classList","add","body","addEventListener","remove","removeEventListener","className","children","alt","type","onClick","toConsumableArray","classCallCheck","createClass","utils_api","Api","config","_url","url","_headers","headers","value","_this","fetch","then","res","_returnData","name","link","_this2","method","JSON","stringify","about","_this3","_this4","id","_this5","concat","_this6","_this7","_this8","avatar","_this9","ok","json","Promise","reject","status","authorization","content-type","components_Spinner","contexts_CurrentUserContext","createContext","components_Confirm","setIsOpen","confirmAction","confirmObj","setСurrentUser","cards","setCards","isLoadingConfirm","setIsLoadingConfirm","currentUser","useContext","addNewCard","newCard","_id","like","likes","ownerId","owner","cardId","catch","err","console","log","deleteCard","newCards","filter","c","setUserAvatar","editUserInfo","preventDefault","header_logo","p","components_Header","components_Footer","components_Card","onCardClick","onCardLike","setConfirmOpen","setConfirmAction","setConfirmObj","isOwn","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","length","components_Main","onEditProfile","onAddPlace","onEditAvatar","isLoading","href","map","_ref2","components_PopupWithForm","formId","title","button","onSubmit","noValidate","components_EditProfilePopup","_React$useState","useState","_React$useState2","inputAboutValue","setInputAboutValue","_React$useState3","_React$useState4","inputNameValue","setInputNameValue","autoComplete","placeholder","minLength","maxLength","onChange","e","required","EditAvatarPopup","avatarRef","useRef","current","ref","components_AddPlacePopup","inputCardName","setInputCardName","inputCardLink","setInputCardLink","components_App","isEditProfilePopupOpen","setEditProfilePopupState","isEditAvatarPopupOpen","setEditAvatarPopupState","_React$useState5","_React$useState6","isAddPlacePopupOpen","setAddPlacerPopupState","_React$useState7","_React$useState8","isImagePopupOpen","setImagePopupState","_React$useState9","_React$useState10","isConfirmOpen","_React$useState11","_React$useState12","_React$useState13","_React$useState14","setIsLoading","_React$useState15","_React$useState16","selectedCard","setSelectedCard","_React$useState17","_React$useState18","_React$useState19","_React$useState20","_React$useState21","_React$useState22","_React$useState23","_React$useState24","closeAllPopups","handleConfirmClick","getUserInfo","getInitialCards","item","Provider","handleEditAvatarClick","deleteLikeCard","likeCard","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpmesto-react\"] = this[\"webpackJsonpmesto-react\"] || []).push([[0],{\n\n/***/ 15:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 17:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(6);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src_0 = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/ImagePopup.js\nfunction ImagePopup(_ref){var card=_ref.card,isOpen=_ref.isOpen,onClose=_ref.onClose;var src=card.src;var nameImg=card.nameImg;var closeByOverlay=Object(react[\"useCallback\"])(function(evt){if(evt.target!==evt.currentTarget)return;onClose();},[onClose]);var handleEscClose=Object(react[\"useCallback\"])(function(evt){if(evt.key===\"Escape\"){onClose();}},[onClose]);react_default.a.useEffect(function(){if(isOpen){var Popup=document.querySelector('.image');Popup.classList.add(\"popup_opened\");document.body.addEventListener(\"keyup\",handleEscClose);Popup.addEventListener(\"click\",closeByOverlay);}return function(){var Popup=document.querySelector('.image');Popup.classList.remove(\"popup_opened\");document.body.removeEventListener(\"keyup\",handleEscClose);Popup.removeEventListener(\"click\",closeByOverlay);};},[isOpen,closeByOverlay,handleEscClose]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup image\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__container image__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:src,alt:nameImg,className:\"popup__image\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"popup__figcaption-image\",children:nameImg}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"popup__close\",type:\"button\",onClick:onClose})]})});}/* harmony default export */ var components_ImagePopup = (ImagePopup);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./src/utils/api.js\nvar api_Api=/*#__PURE__*/function(){function Api(config){Object(classCallCheck[\"a\" /* default */])(this,Api);this._url=config.url;this._headers=config.headers;}Object(createClass[\"a\" /* default */])(Api,[{key:\"getInitialCards\",value:function getInitialCards(){var _this=this;return fetch(this._url+'cards',{headers:this._headers}).then(function(res){return _this._returnData(res);});}},{key:\"addNewCard\",value:function addNewCard(name,link){var _this2=this;return fetch(this._url+'cards',{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(function(res){return _this2._returnData(res);});}},{key:\"editUserInfo\",value:function editUserInfo(name,about){var _this3=this;return fetch(this._url+'users/me',{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(function(res){return _this3._returnData(res);});}},{key:\"getUserInfo\",value:function getUserInfo(){var _this4=this;return fetch(this._url+'users/me',{headers:this._headers}).then(function(res){return _this4._returnData(res);});}},{key:\"deleteCard\",value:function deleteCard(id){var _this5=this;return fetch(this._url+\"cards/\".concat(id),{method:\"DELETE\",headers:this._headers}).then(function(res){return _this5._returnData(res);});}},{key:\"likeCard\",value:function likeCard(id){var _this6=this;return fetch(this._url+\"cards/likes/\".concat(id),{method:\"PUT\",headers:this._headers}).then(function(res){return _this6._returnData(res);});}},{key:\"deleteLikeCard\",value:function deleteLikeCard(id){var _this7=this;return fetch(this._url+\"cards/likes/\".concat(id),{method:\"DELETE\",headers:this._headers}).then(function(res){return _this7._returnData(res);});}},{key:\"getLikesCard\",value:function getLikesCard(id){var _this8=this;return fetch(this._url+\"cards/likes/\".concat(id),{method:\"GET\",headers:this._headers}).then(function(res){return _this8._returnData(res);});}},{key:\"setUserAvatar\",value:function setUserAvatar(avatar){var _this9=this;return fetch(this._url+'users/me/avatar',{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(function(res){return _this9._returnData(res);});}},{key:\"_returnData\",value:function _returnData(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}}]);return Api;}();var api=new api_Api({url:\"https://mesto.nomoreparties.co/v1/cohort-20/\",headers:{authorization:'4b126959-9593-4c1c-9c1d-30d3e8eeddbf',\"content-type\":\"application/json\"}});/* harmony default export */ var utils_api = (api);\n// EXTERNAL MODULE: ./src/components/Spinner.css\nvar Spinner = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./src/components/Spinner.js\nfunction Spinner_Spinner(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Spinner\"});}/* harmony default export */ var components_Spinner = (Spinner_Spinner);\n// CONCATENATED MODULE: ./src/contexts/CurrentUserContext.js\nvar CurrentUserContext=/*#__PURE__*/react_default.a.createContext();/* harmony default export */ var contexts_CurrentUserContext = (CurrentUserContext);\n// CONCATENATED MODULE: ./src/components/Confirm.js\nfunction Confirm(_ref){var isOpen=_ref.isOpen,setIsOpen=_ref.setIsOpen,confirmAction=_ref.confirmAction,confirmObj=_ref.confirmObj,setСurrentUser=_ref.setСurrentUser,cards=_ref.cards,setCards=_ref.setCards,isLoadingConfirm=_ref.isLoadingConfirm,setIsLoadingConfirm=_ref.setIsLoadingConfirm;var currentUser=react_default.a.useContext(contexts_CurrentUserContext);react_default.a.useEffect(function(){if(isOpen){var Popup=document.querySelector(\".confirm\");Popup.classList.add(\"popup_opened\");}return function(){var Popup=document.querySelector(\".confirm\");Popup.classList.remove(\"popup_opened\");};},[isOpen]);function onClick(){// console.log(\"confirm -> onClick\");\n// console.log(confirmAction);\nsetIsLoadingConfirm(true);switch(confirmAction){case'addNewCard':utils_api.addNewCard(confirmObj.name,confirmObj.link).then(function(newCard){newCard.key=newCard._id;newCard.like=newCard.likes;newCard.ownerId=newCard.owner._id;newCard.src=newCard.link;newCard.nameImg=newCard.name;newCard.cardId=newCard._id;setCards([newCard].concat(Object(toConsumableArray[\"a\" /* default */])(cards)));}).then(function(){setIsOpen(false);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});break;case'cardDelete':var isOwn=confirmObj.ownerId===currentUser._id;if(isOwn){utils_api.deleteCard(confirmObj.cardId).then(function(){var newCards=cards.filter(function(c){return c.cardId!==confirmObj.cardId;});setCards(newCards);}).then(function(){setIsOpen(false);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});}break;case'editUserAvatar':utils_api.setUserAvatar(confirmObj.avatar).then(function(res){return setСurrentUser(res);}).then(function(){setIsOpen(false);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});break;case'editUserInfo':utils_api.editUserInfo(confirmObj.name,confirmObj.about).then(function(res){return setСurrentUser(res);}).then(function(){setIsOpen(false);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});break;default:break;}// console.log(\"Confirm -> onCLick\");\n}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"confirm popup\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"popup__container confirm__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"popup__header\",children:\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"popup__save\",type:\"button\",onClick:onClick,children:\"\\u0414\\u0430\"}),isLoadingConfirm?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Spinner,{}):'',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"popup__close\",type:\"button\",onClick:function onClick(evt){evt.preventDefault();setIsOpen(false);}})]})});}/* harmony default export */ var components_Confirm = (Confirm);\n// CONCATENATED MODULE: ./src/images/header__logo.svg\n/* harmony default export */ var header_logo = (__webpack_require__.p + \"static/media/header__logo.a307e1c4.svg\");\n// CONCATENATED MODULE: ./src/components/Header.js\nfunction Header(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"header page__header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:header_logo,alt:\"\\u041C\\u0435\\u0441\\u0442\\u043E\",className:\"header__logo\"})});}/* harmony default export */ var components_Header = (Header);\n// CONCATENATED MODULE: ./src/components/Footer.js\nfunction Footer(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"footer\",{className:\"footer page__footer\",children:\"\\xA9 2020 Mesto Russia\"});}/* harmony default export */ var components_Footer = (Footer);\n// CONCATENATED MODULE: ./src/components/Card.js\nfunction Card(_ref){var cardId=_ref.cardId,src=_ref.src,nameImg=_ref.nameImg,like=_ref.like,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,ownerId=_ref.ownerId,setConfirmOpen=_ref.setConfirmOpen,setConfirmAction=_ref.setConfirmAction,setConfirmObj=_ref.setConfirmObj;var currentUser=react_default.a.useContext(contexts_CurrentUserContext);// Определяем, являемся ли мы владельцем текущей карточки\nvar isOwn=ownerId===currentUser._id;// Создаём переменную, которую после зададим в `className` для кнопки удаления\nvar cardDeleteButtonClassName=\"element__trash \".concat(isOwn?' ':'element__trash_invisible');// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nvar isLiked=like.some(function(i){return i._id===currentUser._id;});// Создаём переменную, которую после зададим в `className` для кнопки лайка\nvar cardLikeButtonClassName=\"element__like \".concat(isLiked?'element__like_type_active':' ');function handleImgClick(){onCardClick({src:src,nameImg:nameImg});}function handleLikeClick(){// console.log(\"========LIKE=======\");\n// console.log(like);\nonCardLike(like,cardId);}function handleCardDelete(){// console.log(\"handleCardDelete\");\nsetConfirmOpen();setConfirmAction('cardDelete');setConfirmObj({ownerId:ownerId,cardId:cardId});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"element\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:src,alt:nameImg,className:\"element__img\",onClick:handleImgClick}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"element__name\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"element__title\",children:nameImg}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"element__likes\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:cardLikeButtonClassName,type:\"button\",onClick:handleLikeClick}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"element__like-counter\",children:like.length})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:cardDeleteButtonClassName,type:\"button\",onClick:handleCardDelete})]});}/* harmony default export */ var components_Card = (Card);\n// CONCATENATED MODULE: ./src/components/Main.js\nfunction Main(_ref){var cards=_ref.cards,onCardLike=_ref.onCardLike,onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick,setConfirmOpen=_ref.setConfirmOpen,setConfirmAction=_ref.setConfirmAction,setConfirmObj=_ref.setConfirmObj,isLoading=_ref.isLoading;var currentUser=react_default.a.useContext(contexts_CurrentUserContext);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{className:\"main page__main\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:\"profile main__profile\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/#\",className:\"profile__avatar-edit\",onClick:onEditAvatar,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:currentUser.avatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\",className:\"profile__avatar\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile__name\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"profile__name-title\",children:currentUser.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"profile__button profile__button_type_edit\",type:\"button\",onClick:onEditProfile})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"profile__about\",children:currentUser.about})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"profile__button profile__button_type_add \",type:\"button\",onClick:onAddPlace})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{className:\"elements main__elements\",children:isLoading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Spinner,{}):cards.map(function(_ref2){var cardId=_ref2.cardId,src=_ref2.src,nameImg=_ref2.nameImg,like=_ref2.like,ownerId=_ref2.ownerId;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Card,{ownerId:ownerId,src:src,nameImg:nameImg,like:like,cardId:cardId,onCardClick:onCardClick,onCardLike:onCardLike,setConfirmOpen:setConfirmOpen,setConfirmAction:setConfirmAction,setConfirmObj:setConfirmObj},cardId);})})]});}/* harmony default export */ var components_Main = (Main);\n// CONCATENATED MODULE: ./src/components/PopupWithForm.js\nfunction PopupWithForm(_ref){var formId=_ref.formId,isOpen=_ref.isOpen,title=_ref.title,children=_ref.children,onClose=_ref.onClose,button=_ref.button,setConfirmOpen=_ref.setConfirmOpen,confirmAction=_ref.confirmAction,onSubmit=_ref.onSubmit;// console.log();\nvar closeByOverlay=Object(react[\"useCallback\"])(function(evt){if(evt.target!==evt.currentTarget)return;onClose();},[onClose]);var handleEscClose=Object(react[\"useCallback\"])(function(evt){if(evt.key===\"Escape\"){onClose();}},[onClose]);react_default.a.useEffect(function(){if(isOpen){var Popup=document.querySelector(\".\".concat(formId));Popup.classList.add(\"popup_opened\");document.body.addEventListener(\"keyup\",handleEscClose);Popup.addEventListener(\"click\",closeByOverlay);}return function(){var Popup=document.querySelector(\".\".concat(formId));Popup.classList.remove(\"popup_opened\");document.body.removeEventListener(\"keyup\",handleEscClose);Popup.removeEventListener(\"click\",closeByOverlay);};},[isOpen,formId,closeByOverlay,handleEscClose]);function submitConfirm(evt){evt.preventDefault();setConfirmOpen();confirmAction();onClose();// console.log(\"PopupWithForm -> submitConfirm\");\n}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popup \".concat(formId),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"form popup__container\",name:formId,onSubmit:submitConfirm,noValidate:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"popup__title\",children:title}),children,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"popup__save\",type:\"submit\",children:button}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"popup__close\",type:\"button\",onClick:function onClick(evt){evt.preventDefault();onClose();}})]})});}/* harmony default export */ var components_PopupWithForm = (PopupWithForm);\n// CONCATENATED MODULE: ./src/components/EditProfilePopup.js\nfunction EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,setConfirmOpen=_ref.setConfirmOpen,setConfirmAction=_ref.setConfirmAction,setConfirmObj=_ref.setConfirmObj;var _React$useState=react_default.a.useState(''),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),inputAboutValue=_React$useState2[0],setInputAboutValue=_React$useState2[1];var _React$useState3=react_default.a.useState(''),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),inputNameValue=_React$useState4[0],setInputNameValue=_React$useState4[1];// Подписка на контекст\nvar currentUser=react_default.a.useContext(contexts_CurrentUserContext);function handleNameChange(evt){setInputNameValue(evt.target.value);}function handleAboutChange(evt){setInputAboutValue(evt.target.value);}function editUserInfo(name,about){setConfirmAction('editUserInfo');setConfirmObj({name:name,about:about});}// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nreact_default.a.useEffect(function(){setInputAboutValue(currentUser.about);setInputNameValue(currentUser.name);},[currentUser]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_PopupWithForm,{button:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",formId:\"edit-user\",isOpen:isOpen,onClose:onClose,setConfirmOpen:setConfirmOpen,confirmAction:function confirmAction(){return editUserInfo(inputNameValue,inputAboutValue);},setConfirmAction:setConfirmAction,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"name-input\",type:\"text\",className:\"popup__input popup__input_type_name\",autoComplete:\"off\",placeholder:\"\\u0418\\u043C\\u044F\",name:\"name\",minLength:\"2\",maxLength:\"40\",value:inputNameValue,onChange:function onChange(e){return handleNameChange(e);},required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"name-input-error\",className:\"popup__input-error\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"about-input\",type:\"text\",className:\"popup__input popup__input_type_about\",autoComplete:\"off\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",name:\"about\",value:inputAboutValue,minLength:\"2\",maxLength:\"200\",required:true,onChange:handleAboutChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"about-input-error\",className:\"popup__input-error\"})]})});}/* harmony default export */ var components_EditProfilePopup = (EditProfilePopup);\n// CONCATENATED MODULE: ./src/components/EditAvatarPopup.js\nfunction EditAvatarPopup_EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,setConfirmOpen=_ref.setConfirmOpen,setConfirmAction=_ref.setConfirmAction,setConfirmObj=_ref.setConfirmObj;var avatarRef=react_default.a.useRef();// console.log();\nfunction editUserAvatar(){setConfirmAction('editUserAvatar');setConfirmObj({avatar:avatarRef.current.value});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_PopupWithForm,{button:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",formId:\"edit-user-avatar\",isOpen:isOpen,onClose:onClose,setConfirmOpen:setConfirmOpen,confirmAction:editUserAvatar,setConfirmAction:setConfirmAction,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"avatar-input\",type:\"url\",className:\"popup__input popup__input_type_name\",autoComplete:\"off\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",name:\"name\",ref:avatarRef,minLength:\"2\",maxLength:\"200\",required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"avatar-input-error\",className:\"popup__input-error\"})]})});}/* harmony default export */ var EditAvatarPopup = (EditAvatarPopup_EditProfilePopup);\n// CONCATENATED MODULE: ./src/components/AddPlacePopup.js\nfunction AddPlacePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,setConfirmOpen=_ref.setConfirmOpen,setConfirmAction=_ref.setConfirmAction,setConfirmObj=_ref.setConfirmObj;var _React$useState=react_default.a.useState([]),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),inputCardName=_React$useState2[0],setInputCardName=_React$useState2[1];var _React$useState3=react_default.a.useState([]),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),inputCardLink=_React$useState4[0],setInputCardLink=_React$useState4[1];function handleCardName(evt){setInputCardName(evt.target.value);}function handleCardLink(evt){setInputCardLink(evt.target.value);}function addNewCard(name,link){setConfirmAction('addNewCard');setConfirmObj({name:name,link:link});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_PopupWithForm,{button:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",formId:\"add-card\",isOpen:isOpen,onClose:onClose,setConfirmOpen:setConfirmOpen,confirmAction:function confirmAction(){return addNewCard(inputCardName,inputCardLink);},setConfirmAction:setConfirmAction,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"name-input\",type:\"text\",className:\"popup__input popup__input_type_name\",autoComplete:\"off\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",name:\"name\",value:inputCardName,onChange:function onChange(e){return handleCardName(e);},minLength:\"2\",maxLength:\"30\",required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"name-input-error\",className:\"popup__input-error\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"url-input\",type:\"url\",className:\"popup__input popup__input_type_about\",autoComplete:\"off\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",value:inputCardLink,onChange:function onChange(e){return handleCardLink(e);},name:\"link\",required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"url-input-error\",className:\"popup__input-error\"})]})});}/* harmony default export */ var components_AddPlacePopup = (AddPlacePopup);\n// CONCATENATED MODULE: ./src/components/App.js\nfunction App(){var _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),isEditProfilePopupOpen=_React$useState2[0],setEditProfilePopupState=_React$useState2[1];var _React$useState3=react_default.a.useState(false),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),isEditAvatarPopupOpen=_React$useState4[0],setEditAvatarPopupState=_React$useState4[1];var _React$useState5=react_default.a.useState(false),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),isAddPlacePopupOpen=_React$useState6[0],setAddPlacerPopupState=_React$useState6[1];var _React$useState7=react_default.a.useState(false),_React$useState8=Object(slicedToArray[\"a\" /* default */])(_React$useState7,2),isImagePopupOpen=_React$useState8[0],setImagePopupState=_React$useState8[1];var _React$useState9=react_default.a.useState(false),_React$useState10=Object(slicedToArray[\"a\" /* default */])(_React$useState9,2),isConfirmOpen=_React$useState10[0],setConfirmOpen=_React$useState10[1];var _React$useState11=react_default.a.useState([{src:'',nameImg:'',like:[''],cardId:'',ownerId:''}]),_React$useState12=Object(slicedToArray[\"a\" /* default */])(_React$useState11,2),cards=_React$useState12[0],setCards=_React$useState12[1];var _React$useState13=react_default.a.useState(false),_React$useState14=Object(slicedToArray[\"a\" /* default */])(_React$useState13,2),isLoading=_React$useState14[0],setIsLoading=_React$useState14[1];var _React$useState15=react_default.a.useState({src:'',nameImg:''}),_React$useState16=Object(slicedToArray[\"a\" /* default */])(_React$useState15,2),selectedCard=_React$useState16[0],setSelectedCard=_React$useState16[1];var _React$useState17=react_default.a.useState(false),_React$useState18=Object(slicedToArray[\"a\" /* default */])(_React$useState17,2),isLoadingConfirm=_React$useState18[0],setIsLoadingConfirm=_React$useState18[1];var _React$useState19=react_default.a.useState({name:'',about:''}),_React$useState20=Object(slicedToArray[\"a\" /* default */])(_React$useState19,2),currentUser=_React$useState20[0],setСurrentUser=_React$useState20[1];var _React$useState21=react_default.a.useState(''),_React$useState22=Object(slicedToArray[\"a\" /* default */])(_React$useState21,2),confirmAction=_React$useState22[0],setConfirmAction=_React$useState22[1];var _React$useState23=react_default.a.useState({name:'',about:''}),_React$useState24=Object(slicedToArray[\"a\" /* default */])(_React$useState23,2),confirmObj=_React$useState24[0],setConfirmObj=_React$useState24[1];react_default.a.useEffect(function(){utils_api.getUserInfo().then(function(res){setСurrentUser(res);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});},[]);function closeAllPopups(){setEditProfilePopupState(false);setEditAvatarPopupState(false);setAddPlacerPopupState(false);setImagePopupState(false);setSelectedCard([]);}function handleCardClick(_ref){var src=_ref.src,nameImg=_ref.nameImg;setSelectedCard({src:src,nameImg:nameImg});setImagePopupState(true);}function handleConfirmClick(){setConfirmOpen(true);}function handleEditProfileClick(evt){evt.preventDefault();setEditProfilePopupState(true);}function handleEditAvatarClick(e){e.preventDefault();setEditAvatarPopupState(true);}function handleAddPlaceClick(evt){evt.preventDefault();setAddPlacerPopupState(true);}function handleCardLike(like,cardId){// Снова проверяем, есть ли уже лайк на этой карточке\nvar isLiked=like.some(function(i){return i._id===currentUser._id;});// console.log('main -> handleCardLike');\nif(!isLiked){// console.log(\"main -> handleCardLike -> like\")\nutils_api.likeCard(cardId).then(function(newCard){var newCards=cards.map(function(c){return c.cardId===newCard._id?{src:newCard.link,nameImg:newCard.name,like:newCard.likes,cardId:newCard._id,ownerId:newCard.owner._id}:c;});setCards(newCards);});}else{// console.log(\"main -> handleCardLike -> deleteLike\")\nutils_api.deleteLikeCard(cardId).then(function(newCard){var newCards=cards.map(function(c){return c.cardId===newCard._id?{src:newCard.link,nameImg:newCard.name,like:newCard.likes,cardId:newCard._id,ownerId:newCard.owner._id}:c;});setCards(newCards);});}}react_default.a.useEffect(function(){setIsLoading(true);utils_api.getInitialCards().then(function(res){setCards(res.map(function(item){return{src:item.link,nameImg:item.name,like:item.likes,cardId:item._id,ownerId:item.owner._id};}));setIsLoading(false);}).catch(function(err){console.log(err);// выведем ошибку в консоль\n});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(contexts_CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Header,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Main,{cards:cards,onEditProfile:function onEditProfile(e){return handleEditProfileClick(e);},onEditAvatar:function onEditAvatar(e){return handleEditAvatarClick(e);},onAddPlace:function onAddPlace(e){return handleAddPlaceClick(e);},onCardClick:handleCardClick,setConfirmOpen:handleConfirmClick,setConfirmAction:setConfirmAction,setConfirmObj:setConfirmObj,onCardLike:handleCardLike,isLoading:isLoading}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Footer,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,setConfirmOpen:handleConfirmClick,setConfirmAction:setConfirmAction,setConfirmObj:setConfirmObj}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,setConfirmOpen:handleConfirmClick,setConfirmAction:setConfirmAction,setConfirmObj:setConfirmObj}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,setConfirmOpen:handleConfirmClick,setConfirmAction:setConfirmAction,setConfirmObj:setConfirmObj}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Confirm,{isOpen:isConfirmOpen,setIsOpen:setConfirmOpen,confirmAction:confirmAction,confirmObj:confirmObj,setСurrentUser:setСurrentUser,cards:cards,setCards:setCards,isLoadingConfirm:isLoadingConfirm,setIsLoadingConfirm:setIsLoadingConfirm}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ImagePopup,{card:selectedCard,isOpen:isImagePopupOpen,onClose:closeAllPopups})]})});}/* harmony default export */ var components_App = (App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 18)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[17,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/node_modules/postcss-loader/src/index.js??postcss!/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/index.css","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/node_modules/postcss-loader/src/index.js??postcss!/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/Spinner.css","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/ImagePopup.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/utils/api.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/Spinner.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/contexts/CurrentUserContext.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/Confirm.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/node_modules/file-loader/dist/cjs.js??ref--5-oneOf-8!/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/images/header__logo.svg","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/Header.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/Footer.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/Card.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/Main.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/PopupWithForm.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/EditProfilePopup.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/EditAvatarPopup.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/AddPlacePopup.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/components/App.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/reportWebVitals.js","/Users/lara/Documents/обучение/программирование/yaPractik/mesto-react/src/index.js"],"names":["ImagePopup","card","isOpen","onClose","src","nameImg","closeByOverlay","useCallback","evt","target","currentTarget","handleEscClose","key","React","useEffect","Popup","document","querySelector","classList","add","body","addEventListener","remove","removeEventListener","Api","config","_url","url","_headers","headers","fetch","then","res","_returnData","name","link","method","JSON","stringify","about","id","avatar","ok","json","Promise","reject","status","api","authorization","Spinner","CurrentUserContext","createContext","Confirm","setIsOpen","confirmAction","confirmObj","setСurrentUser","cards","setCards","isLoadingConfirm","setIsLoadingConfirm","currentUser","useContext","onClick","addNewCard","newCard","_id","like","likes","ownerId","owner","cardId","catch","err","console","log","isOwn","deleteCard","newCards","filter","c","setUserAvatar","editUserInfo","preventDefault","Header","logo","Footer","Card","onCardClick","onCardLike","setConfirmOpen","setConfirmAction","setConfirmObj","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","handleImgClick","handleLikeClick","handleCardDelete","length","Main","onEditProfile","onAddPlace","onEditAvatar","isLoading","map","PopupWithForm","formId","title","children","button","onSubmit","submitConfirm","EditProfilePopup","useState","inputAboutValue","setInputAboutValue","inputNameValue","setInputNameValue","handleNameChange","value","handleAboutChange","e","avatarRef","useRef","editUserAvatar","current","AddPlacePopup","inputCardName","setInputCardName","inputCardLink","setInputCardLink","handleCardName","handleCardLink","App","isEditProfilePopupOpen","setEditProfilePopupState","isEditAvatarPopupOpen","setEditAvatarPopupState","isAddPlacePopupOpen","setAddPlacerPopupState","isImagePopupOpen","setImagePopupState","isConfirmOpen","setIsLoading","selectedCard","setSelectedCard","getUserInfo","closeAllPopups","handleCardClick","handleConfirmClick","handleEditProfileClick","handleEditAvatarClick","handleAddPlaceClick","handleCardLike","likeCard","deleteLikeCard","getInitialCards","item","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { useCallback } from 'react';\n\nfunction ImagePopup ({card, isOpen, onClose}) {\n  \n  const src = card.src;\n  const nameImg = card.nameImg;\n\n  const closeByOverlay = useCallback((evt) => {\n    if (evt.target !== evt.currentTarget) return;\n    onClose();\n  }, [onClose])\n\n  const handleEscClose = useCallback((evt) => {\n    if (evt.key === \"Escape\") {\n      onClose();\n    }\n  }, [onClose])\n\n\n  React.useEffect(() => {\n    if(isOpen) {\n      const Popup = document.querySelector('.image');\n      Popup.classList.add(\"popup_opened\");\n      document.body.addEventListener(\"keyup\", handleEscClose);\n      Popup.addEventListener(\"click\", closeByOverlay);\n    }\n    return () => {\n      const Popup = document.querySelector('.image');\n      Popup.classList.remove(\"popup_opened\");\n      document.body.removeEventListener(\"keyup\", handleEscClose);\n      Popup.removeEventListener(\"click\", closeByOverlay);\n    };\n  }, [isOpen, closeByOverlay, handleEscClose]); \n\nreturn (\n  <div className=\"popup image\">\n    <div className=\"popup__container image__container\">\n      <img\n        src={src}\n        alt={nameImg}\n        className=\"popup__image\"\n      />\n      <p className=\"popup__figcaption-image\">{nameImg}</p>\n      <button className=\"popup__close\" type=\"button\" onClick={onClose}></button>\n      \n    </div>\n  </div>\n)\n\n}\n\nexport default ImagePopup","class Api {\n  constructor (config) {\n      this._url = config.url;\n      this._headers = config.headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._url + 'cards', {\n      headers: this._headers,\n  })\n      .then(res => this._returnData(res));\n  } \n\n  addNewCard (name, link) {\n    return fetch(this._url + 'cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link \n      })\n    })\n    .then((res) => this._returnData(res));\n}\n\n  editUserInfo (name, about) {\n    return fetch(this._url + 'users/me', {\n    method: 'PATCH',\n    headers: this._headers,\n    body: JSON.stringify({\n      name: name,\n      about: about \n    })\n  })\n  .then((res) => this._returnData(res));\n}\n  \n  getUserInfo () {\n    return fetch(this._url + 'users/me', {\n        headers: this._headers\n      })\n      .then((res) => this._returnData(res));\n    }\n\n\n  deleteCard(id) {\n      return fetch(this._url + `cards/${id}`, {\n          method: \"DELETE\",\n          headers: this._headers,\n      }).then((res) => this._returnData(res))\n  }\n\n\n  likeCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: this._headers,\n  }).then((res) => this._returnData(res))\n  }\n\n  deleteLikeCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n  }).then((res) => this._returnData(res))\n  }\n\n  getLikesCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"GET\",\n      headers: this._headers,\n  }).then((res) => this._returnData(res))\n  }\n\n  setUserAvatar(avatar) {\n    return fetch(this._url + 'users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar \n      })\n    })\n    .then((res) => this._returnData(res));\n  }\n\n_returnData (res) {\n  if (res.ok) {\n    return res.json();\n  }\n\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-20/\",\n  headers: {\n\t\tauthorization: '4b126959-9593-4c1c-9c1d-30d3e8eeddbf',\n    \"content-type\": \"application/json\",\n  }\n}); \n\nexport default api;","import React from 'react';\nimport './Spinner.css';\n\nfunction Spinner() {\n  return (\n    <div className=\"Spinner\"></div>\n  );\n}\n\nexport default Spinner;\n","import React from 'react';\n\n\nexport const CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext","import React from 'react';\nimport Api from '../utils/api';\nimport Spinner from './Spinner';\n\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Confirm ({isOpen, setIsOpen,confirmAction, confirmObj, setСurrentUser, cards, setCards, isLoadingConfirm, setIsLoadingConfirm}) {\n  \n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if(isOpen) {\n      const Popup = document.querySelector(`.confirm`);\n      Popup.classList.add(\"popup_opened\");\n    }\n    return () => {\n      const Popup = document.querySelector(`.confirm`);\n      Popup.classList.remove(\"popup_opened\");\n    };\n  }, [isOpen]); \n\n  function onClick () {\n    // console.log(\"confirm -> onClick\");\n    // console.log(confirmAction);\n    setIsLoadingConfirm(true);\n    switch  (confirmAction) {\n      case 'addNewCard': \n        Api.addNewCard(confirmObj.name, confirmObj.link)\n        .then((newCard) => {\n          newCard.key = newCard._id;\n          newCard.like = newCard.likes;\n          newCard.ownerId = newCard.owner._id;\n          newCard.src = newCard.link;\n          newCard.nameImg = newCard.name;\n          newCard.cardId = newCard._id;\n          setCards([newCard, ...cards]); \n        })\n        .then(() => {setIsOpen(false)})\n        .catch((err) => {\n          console.log(err); // выведем ошибку в консоль\n        }); \n        break;\n      case 'cardDelete':\n        const isOwn = confirmObj.ownerId === currentUser._id;\n        if(isOwn) {\n            Api.deleteCard(confirmObj.cardId)\n            .then(() => {\n                const newCards = cards.filter((c) => c.cardId !== confirmObj.cardId);\n              setCards(newCards);\n            })\n            .then(() => {setIsOpen(false)})\n            .catch((err) => {\n              console.log(err); // выведем ошибку в консоль\n            });}\n        break;\n      case 'editUserAvatar':\n        Api.setUserAvatar(confirmObj.avatar)\n        .then((res) => setСurrentUser(res))\n        .then(() => {setIsOpen(false)})\n        .catch((err) => {\n          console.log(err); // выведем ошибку в консоль\n        });\n          break;\n      case 'editUserInfo':\n        Api.editUserInfo (confirmObj.name, confirmObj.about)\n        .then((res) => setСurrentUser(res))\n        .then(() => {setIsOpen(false)})\n        .catch((err) => {\n          console.log(err); // выведем ошибку в консоль\n        });\n        break;\n      default:\n        break;\n\n    } \n    // console.log(\"Confirm -> onCLick\");\n  }\n\n  return (\n    <div className=\"confirm popup\">\n    <div className=\"popup__container confirm__container\">\n      <h2 className=\"popup__header\">Вы уверены?</h2>\n      \n      <button className=\"popup__save\" type=\"button\" onClick={onClick}>Да</button>\n      {isLoadingConfirm ? <Spinner /> : ''}\n      <button className=\"popup__close\" type=\"button\" onClick={function (evt) { evt.preventDefault(); setIsOpen(false)}}></button>\n    \n    </div>\n  </div>\n  )\n}\n\nexport default Confirm; ","export default __webpack_public_path__ + \"static/media/header__logo.a307e1c4.svg\";","import React from 'react';\nimport logo from '../images/header__logo.svg';\n\nfunction Header () {\n  return (\n    <header className=\"header page__header\">\n      <img src={logo} alt=\"Место\" className=\"header__logo\" />\n    </header>\n  )\n}\n\nexport default Header;","import React from 'react';\n\nfunction Footer () {\n  return (<footer className=\"footer page__footer\">&copy; 2020 Mesto Russia</footer>)\n}\n\nexport default Footer;","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Card ({cardId, src, nameImg, like, onCardClick, onCardLike, ownerId, setConfirmOpen, setConfirmAction, setConfirmObj}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = ownerId === currentUser._id;\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `element__trash ${isOwn ? ' ' : 'element__trash_invisible'}`\n  ); \n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = like.some(i => i._id === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n  `element__like ${isLiked ? 'element__like_type_active' : ' '}`); \n\n  function handleImgClick(){\n    onCardClick({src, nameImg});\n  }\n\n  function handleLikeClick() {\n    // console.log(\"========LIKE=======\");\n    // console.log(like);\n    onCardLike(like, cardId);\n  }\n\n  function handleCardDelete(){\n    // console.log(\"handleCardDelete\");\n    setConfirmOpen();\n    setConfirmAction('cardDelete');\n    setConfirmObj({\n      ownerId: ownerId,\n      cardId: cardId\n    })\n  }\n\n  return (\n    <div className=\"element\">\n      <img src={src} alt={nameImg} className=\"element__img\" onClick={handleImgClick}/>\n      <div className=\"element__name\">\n        <h3 className=\"element__title\">{nameImg}</h3>\n        <div className=\"element__likes\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n          <p className=\"element__like-counter\">{like.length}</p>\n        </div>\n      </div>\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleCardDelete}></button>\n    </div>\n  );\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport Spinner from './Spinner';\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Main ({cards, onCardLike, onEditProfile, onAddPlace, onEditAvatar, onCardClick, setConfirmOpen, setConfirmAction, setConfirmObj, isLoading}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  \n return ( \n <main className=\"main page__main\">\n  <section className=\"profile main__profile\">\n    <a href=\"/#\" className=\"profile__avatar-edit\" onClick={onEditAvatar}>\n      <img\n        src={currentUser.avatar}\n        alt=\"Аватар\"\n        className=\"profile__avatar\"\n      />\n    </a>\n    <div className=\"profile__info\">\n      <div className=\"profile__name\">\n        <p className=\"profile__name-title\">{currentUser.name}</p>\n        <button\n          className=\"profile__button profile__button_type_edit\"\n          type=\"button\"\n          onClick={onEditProfile}\n        ></button>\n      </div>\n      <p className=\"profile__about\">{currentUser.about}</p>\n    </div>\n    <button\n      className=\"profile__button profile__button_type_add \"\n      type=\"button\"\n      onClick={onAddPlace}\n    ></button>\n  </section>\n        <section className=\"elements main__elements\">\n        {\n            isLoading ? <Spinner /> : cards.map(({cardId, src, nameImg, like, ownerId}) => {return <Card key={cardId} ownerId={ownerId} src={src} nameImg={nameImg} like={like} cardId={cardId} onCardClick={onCardClick} onCardLike={onCardLike} setConfirmOpen={setConfirmOpen} setConfirmAction={setConfirmAction} setConfirmObj={setConfirmObj}/>}) \n        }                \n        </section>\n</main>)\n}\n\nexport default Main;\n\n","import React, { useCallback } from 'react';\n\nfunction PopupWithForm ({formId, isOpen, title, children, onClose, button, setConfirmOpen, confirmAction, onSubmit}) {\n  // console.log();\n  const closeByOverlay = useCallback((evt) => {\n    if (evt.target !== evt.currentTarget) return;\n    onClose();\n  }, [onClose])\n\n  const handleEscClose = useCallback((evt) => {\n    if (evt.key === \"Escape\") {\n      onClose();\n    }\n  }, [onClose])\n\n  React.useEffect(() => {\n    if(isOpen) {\n      const Popup = document.querySelector(`.${formId}`);\n      Popup.classList.add(\"popup_opened\");\n      document.body.addEventListener(\"keyup\", handleEscClose);\n      Popup.addEventListener(\"click\", closeByOverlay);\n    }\n    return () => {\n      const Popup = document.querySelector(`.${formId}`);\n      Popup.classList.remove(\"popup_opened\");\n      document.body.removeEventListener(\"keyup\", handleEscClose);\n      Popup.removeEventListener(\"click\", closeByOverlay);\n    };\n  }, [isOpen, formId, closeByOverlay, handleEscClose]); \n\n  function submitConfirm (evt) {\n    evt.preventDefault(); \n    setConfirmOpen();\n    confirmAction();\n    onClose();\n    // console.log(\"PopupWithForm -> submitConfirm\");\n  }\n\n  return (\n    <div className={`popup ${formId}`}>\n    <form className={`form popup__container`} name={formId} onSubmit={submitConfirm} noValidate>\n      <h2 className=\"popup__title\">{title}</h2>\n      {children}\n      <button className=\"popup__save\" type=\"submit\" >{button}</button>\n      <button className=\"popup__close\" type=\"button\" onClick={function (evt) { evt.preventDefault(); onClose()}}></button>\n    </form>\n  </div>\n  )\n}\n\nexport default PopupWithForm;","\nimport React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup ({isOpen, onClose, setConfirmOpen, setConfirmAction, setConfirmObj}){\n\n  const [inputAboutValue, setInputAboutValue] = React.useState('');\n  const [inputNameValue, setInputNameValue] = React.useState('');\n     // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleNameChange (evt) {\n    setInputNameValue(evt.target.value);\n   }\n \n   function handleAboutChange (evt) {\n    setInputAboutValue(evt.target.value);\n   }\n \n   function editUserInfo(name, about) {\n    setConfirmAction('editUserInfo');\n    setConfirmObj({\n      name: name,\n      about: about \n    })\n   }\n\n// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\n  React.useEffect(() => {\n    setInputAboutValue(currentUser.about);\n    setInputNameValue(currentUser.name);\n  }, [currentUser]); \n\nreturn (\n<PopupWithForm \n        button=\"Сохранить\" \n        title=\"Редактировать профиль\" \n        formId=\"edit-user\" \n        isOpen={isOpen} \n        onClose={onClose}\n        setConfirmOpen={setConfirmOpen}\n        confirmAction={() => editUserInfo(inputNameValue, inputAboutValue)}\n        setConfirmAction={setConfirmAction}\n        children={<>\n          <input\n            id=\"name-input\"\n            type=\"text\"\n            className=\"popup__input popup__input_type_name\"\n            autoComplete=\"off\"\n            placeholder=\"Имя\"\n            name=\"name\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            value={inputNameValue}\n            onChange={(e) => handleNameChange(e)}\n            required\n          />\n          <span id=\"name-input-error\" className=\"popup__input-error\"></span>\n          <input\n            id=\"about-input\"\n            type=\"text\"\n            className=\"popup__input popup__input_type_about\"\n            autoComplete=\"off\"\n            placeholder=\"О себе\"\n            name=\"about\"\n            value={inputAboutValue}\n            minLength=\"2\"\n            maxLength=\"200\"\n            required\n            onChange={handleAboutChange}\n          />\n          <span id=\"about-input-error\" className=\"popup__input-error\"></span>\n          </>}\n      />)\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup ({isOpen, onClose, setConfirmOpen, setConfirmAction, setConfirmObj}){\n\n  const avatarRef = React.useRef();\n  // console.log();\n  function editUserAvatar () {\n    setConfirmAction('editUserAvatar');\n    setConfirmObj({\n      avatar: avatarRef.current.value\n    })\n   }\n\n  return (\n    <PopupWithForm \n        button=\"Сохранить\" \n        title=\"Обновить аватар\" \n        formId=\"edit-user-avatar\" \n        isOpen={isOpen} \n        onClose={onClose}\n        setConfirmOpen={setConfirmOpen}\n        confirmAction={editUserAvatar}\n        setConfirmAction={setConfirmAction}\n      children={<>\n        <input\n        id=\"avatar-input\"\n        type=\"url\"\n        className=\"popup__input popup__input_type_name\"\n        autoComplete=\"off\"\n        placeholder=\"Ссылка на аватар\"\n        name=\"name\"\n        ref={avatarRef}\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n        />\n        <span id=\"avatar-input-error\" className=\"popup__input-error\"></span>\n      </>}/>\n  )\n}\n\nexport default EditProfilePopup","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup ({isOpen, onClose, setConfirmOpen, setConfirmAction, setConfirmObj}){\n\n  const [inputCardName, setInputCardName] = React.useState([]);\n  const [inputCardLink, setInputCardLink] = React.useState([]);\n\n  function handleCardName (evt) {\n    setInputCardName(evt.target.value);\n   }\n\n   function handleCardLink (evt) {\n    setInputCardLink(evt.target.value);\n   }\n\n   function addNewCard (name, link) {\n    setConfirmAction('addNewCard');\n    setConfirmObj({\n      name: name,\n      link: link\n    })\n   }\n\nreturn (\n<PopupWithForm \n        button=\"Создать\" \n        title=\"Новое место\" \n        formId=\"add-card\" \n        isOpen={isOpen} \n        onClose={onClose} \n        setConfirmOpen={setConfirmOpen}\n        confirmAction={() => addNewCard(inputCardName, inputCardLink)}\n        setConfirmAction={setConfirmAction}\n\n        children={<>\n          <input\n        id=\"name-input\"\n        type=\"text\"\n        className=\"popup__input popup__input_type_name\"\n        autoComplete=\"off\"\n        placeholder=\"Название\"\n        name=\"name\"\n        value={inputCardName}\n        onChange={(e) => handleCardName(e)}\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n      />\n      <span id=\"name-input-error\" className=\"popup__input-error\"></span>\n      <input\n        id=\"url-input\"\n        type=\"url\"\n        className=\"popup__input popup__input_type_about\"\n        autoComplete=\"off\"\n        placeholder=\"Ссылка на картинку\"\n        value={inputCardLink}\n        onChange={(e) => handleCardLink(e)}\n        name=\"link\"\n        required\n      />\n      <span id=\"url-input-error\" className=\"popup__input-error\"></span>\n        </>}/>)\n\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport ImagePopup from './ImagePopup';\nimport Confirm from './Confirm';\nimport Api from '../utils/api';\n\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\n\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupState] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupState] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacerPopupState] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupState] = React.useState(false);\n  const [isConfirmOpen, setConfirmOpen] = React.useState(false);\n\n  const [cards, setCards] = React.useState([{\n      src: '',\n      nameImg: '',\n      like: [''],\n      cardId: '',\n      ownerId: ''\n  }]); \n  const [isLoading, setIsLoading] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({src: '', nameImg: ''});\n  const [isLoadingConfirm, setIsLoadingConfirm] = React.useState(false);\n\n\n  const [currentUser, setСurrentUser] = React.useState({name: '', about: ''}); \n\n  const [confirmAction, setConfirmAction] = React.useState('');\n  const [confirmObj, setConfirmObj] = React.useState({name: '', about: ''});\n\n  React.useEffect(() => {\n    Api.getUserInfo().then((res) => {\n      setСurrentUser(res);\n    })\n    .catch((err) => {\n      console.log(err); // выведем ошибку в консоль\n    });\n  }, []);\n\n  function closeAllPopups() {\n    setEditProfilePopupState(false);\n    setEditAvatarPopupState(false);\n    setAddPlacerPopupState(false);\n    setImagePopupState(false);\n    setSelectedCard([]);\n  }\n\n  function handleCardClick({src, nameImg}) {\n    setSelectedCard({src, nameImg});\n    setImagePopupState(true);\n  }\n\n  function handleConfirmClick() {\n    setConfirmOpen(true);\n  }\n\n  function handleEditProfileClick (evt) {\n    evt.preventDefault();\n    setEditProfilePopupState(true);\n  }\n\n  function handleEditAvatarClick (e) {\n    e.preventDefault();\n    setEditAvatarPopupState(true);\n  }\n  \n  function handleAddPlaceClick (evt) {\n    evt.preventDefault();\n    setAddPlacerPopupState(true);\n  }\n\n\n   function handleCardLike(like, cardId) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = like.some(i => i._id === currentUser._id);\n    // console.log('main -> handleCardLike');\n    if(!isLiked) {\n      // console.log(\"main -> handleCardLike -> like\")\n      Api.likeCard(cardId)\n      .then((newCard) => {\n          const newCards = cards.map((c) => c.cardId === newCard._id ? ({\n            src: newCard.link,\n            nameImg: newCard.name,\n            like: newCard.likes,\n            cardId: newCard._id,\n            ownerId: newCard.owner._id\n          }) : c);\n        setCards(newCards);\n      })\n    }\n    else {\n      // console.log(\"main -> handleCardLike -> deleteLike\")\n      Api.deleteLikeCard(cardId)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c.cardId === newCard._id ? ({\n          src: newCard.link,\n          nameImg: newCard.name,\n          like: newCard.likes,\n          cardId: newCard._id,\n          ownerId: newCard.owner._id\n        }) : c);\n      setCards(newCards);\n    })\n    }\n} \n\nReact.useEffect(() => {\n  setIsLoading(true);\n  Api.getInitialCards()\n  .then((res) => {\n    setCards(res.map((item) => ({\n      src: item.link,\n      nameImg: item.name,\n      like: item.likes,\n      cardId: item._id,\n      ownerId: item.owner._id\n    })));\n    setIsLoading(false);\n  })\n  .catch((err) => {\n    console.log(err); // выведем ошибку в консоль\n  });\n}, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"App\">\n      <Header />\n      <Main \n        cards={cards}\n        onEditProfile = {(e) => handleEditProfileClick(e)} \n        onEditAvatar = {(e) => handleEditAvatarClick(e)}\n        onAddPlace = {(e) => handleAddPlaceClick(e)}\n        onCardClick = {handleCardClick}\n        setConfirmOpen={handleConfirmClick}\n        setConfirmAction={setConfirmAction}\n        setConfirmObj={setConfirmObj}\n        onCardLike={handleCardLike}\n        isLoading={isLoading}\n        />\n      <Footer />\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} setConfirmOpen={handleConfirmClick} setConfirmAction={setConfirmAction} setConfirmObj={setConfirmObj}></EditProfilePopup>\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} setConfirmOpen={handleConfirmClick} setConfirmAction={setConfirmAction} setConfirmObj={setConfirmObj}></EditAvatarPopup>\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} setConfirmOpen={handleConfirmClick} setConfirmAction={setConfirmAction} setConfirmObj={setConfirmObj}></AddPlacePopup>\n\n      <Confirm isOpen={isConfirmOpen} setIsOpen={setConfirmOpen} confirmAction={confirmAction} confirmObj={confirmObj} setСurrentUser={setСurrentUser} cards={cards} setCards={setCards} isLoadingConfirm={isLoadingConfirm} setIsLoadingConfirm={setIsLoadingConfirm}/>\n      <ImagePopup \n        card={selectedCard} \n        isOpen={isImagePopupOpen}   \n        onClose={closeAllPopups}/>\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}